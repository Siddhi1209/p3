<html lang="en" >
<head>
        <meta charset="UTF-8">
        <meta http-equiv="refresh" content="600">
        <title>CBS Progress Bar</title>
        <link rel="stylesheet" href="../css/normalize.min.css">
        <link rel="stylesheet" href="../css/progress.css">
</head>
<body>
<br/>
<ol class="progress progress--large addli">
  <!--<li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="1">All_Region_Bounce</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="2">Region_Switch</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="3">Interfaces</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="4" >Reposting</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="5" >PostSod</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="6" >SI</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="7" >Night_EOD</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="8" >Night_SOD</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-complete" data-step="9" >Branch_Cut_Off</li>
  <li title="dfiwdhgklng" data-toggle="tooltip" class="is-active" data-step="10" >Sweeps</li>-->
</ol>
<script type="text/javascript" src='../js/jQuery-3.3.1.min.js'></script>
<script>
        function progressBar(ModuleName){
                console.log('loading '+ModuleName+' Data Info');
                $.ajax({
                        type:"POST",
                        url:"progressdata.php",
                        data: {
                                key:101,
                                modulename:ModuleName
                        },
                        success:function(ds){
                                try{
                                        $('.addli').html();
                                        var lidata='',datadiff=0,rowInfo=JSON.parse(ds);
                                        $(rowInfo).each(function(i,v){
                                                datadiff=v.split(',');
                                                //console.log(parseInt(datadiff[1]),rowInfo.length);
                                                if(parseInt(datadiff[1])==rowInfo.length){
                                                        lidata+='<li title="'+datadiff[0]+'" data-toggle="tooltip" class="is-active" data-step='+datadiff[1]+'>'+datadiff[0]+'</li>';
                                                }
                                                else{
                                                        lidata+='<li title="'+datadiff[0]+'" data-toggle="tooltip" class="is-complete" data-step='+datadiff[1]+'>'+datadiff[0]+'</li>';
                                                }
                                        })
                                        $('.addli').append(lidata);
                                }
                                catch(e){
                                        alert(ModuleName+" File Format Error !!!");
                                }
                        }
                })
        }
        $(document).ready(function(){
                progressBar("CBS");
                //progressBar("F1");
        })
</script>
</body>
</html>
