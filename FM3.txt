<?php
class datablank{
        function checkblank($data){
                if(count($data) == 1){
                        return "<tr><th><span class='btn btn-warning'>File Not Proper/Present !</span></th></tr>";
                }
        }
}
class systemu extends datablank {
        public function __construct()
        {
                $this->getDDcrr = $_GET['date'];
                $this->singlepath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/";
                $this->singlepatheod = "/opt/hpws/apache/cgi-bin/trials/bip/data/EOD/";
                $mflag = trim(file_get_contents($this->singlepath."MFLAGS_D"));
                //$mflag= date("Ymd",strtotime("-1 days",strtotime($mflag)));
                if(empty($this->getDDcrr)){
                        //$this->datecrr = date("Ymd");
                        $this->datecrr = $mflag;
                }
                else{
                        $this->datecrr = $this->getDDcrr;
                }
                $this->dateyear=trim(substr($this->datecrr,0,4));
                $this->dateyearmonth=trim(substr($this->datecrr,0,6));
                if($this->datecrr != $mflag){
                        $this->currpath = $this->singlepath.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
                        $this->currpatheod = $this->singlepatheod.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
                }
                else{
                        $this->currpath = $this->singlepath;
                        $this->currpatheod = $this->singlepatheod ;
                }
                //echo $this->currpath;
        }
        function timeUpdatedTpm($flag,$param){
                $vay = $this->datecrr;
                $x = ($param != 'OutDate') ? "ls -lrt ".$this->currpath."*".$flag."*".$vay."* | tail -1 |awk '{ print $8 }'" : "ls -lrt ".$flag." | awk '{ print $8 }'";
                $file=shell_exec($x);
                return trim($file);
        }
        function timeUpdated($flag,$param){
                $vay = $this->datecrr;
                $x = ($param != 'OutDate') ? "ls -lrt ".$this->currpath."*".$flag."*".$vay."* | tail -1 |awk '{ print $7,$6,$8 }'" : "ls -lrt ".$flag." | awk '{ print $6,$7,$8 }'";
                $file=shell_exec($x);
                return trim($file);
        }
        function timeUpdatednight($flag,$param){
                $vay = $this->datecrr;
                $x = ($param != 'OutDate') ? "ls -lrt ".$this->currpatheod."*".$flag."*".$vay."* | tail -1 |awk '{ print $7,$6,$8 }'" : "ll ".$flag." | awk '{ print $6,$7,$8 }'";
                $file=shell_exec($x);
                return trim($file);
        }
        function sys_utl1(){
                $data = explode("\n",trim(file_get_contents($this->currpath."topstat_8apps.txt.".$this->datecrr)));
                //$data = file("../../SystemUtilization/topstat_8apps.txt");// /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/topstat_8apps.txt.$date
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(" ",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                if($k3 == '2' && $v3 > '3000'){
                                        echo "<td  class='bg-red text-center'>".$v3."</td>";
                                }
                                elseif($k3 == '2' && $v3 > '2500' && $v3 < '3000'){
                                        echo "<td  class='bg-orange text-center'>".$v3."</td>";
                                }
                                elseif($k3 == '8' && $v3 < '25'){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-red progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."</div></td>";
                                }
                                elseif($k3 == '8' && $v3 > '25' && $v3 < '50'){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-orange progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."</div></td>";
                                }
                                elseif($k3 == '8' && $v3 > '50'){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-green progress-bar-striped active' style='width:".intval(trim($v3))."%;'>".$v3."</div></td>";
                                }
                                elseif($k3 == '0'){
                                        $alpha=shell_exec("grep -i ".$var[0]." /var/www/html/pace/Online_portal/pages/card_folder/*card.txt|awk '{print $4}'");
                                        $url="'../pages/server_process.php?date=".$this->datecrr."&&server=Process_Run_".trim($alpha).".txt&&servername=".$var[0]."','','height=900, width=1000,scrollbars=yes,resizable=yes'";
                                        if($var[($k3+2)] > 3000){
                                                $anchor='<a style="color:white;cursor:pointer;"  onclick="window.open('.$url.')">'.ucwords(strtolower($v3)).'</a>';
                                                echo "<td style='cursor:pointer' class='bg-red text-center'>$anchor</td>";
                                               }
                                        elseif($var[($k3+2)] > 2500 && $var[($k3+2)] < 3000){
                                               $anchor='<a style="color:white;cursor:pointer;"  onclick="window.open('.$url.')">'.ucwords(strtolower($v3)).'</a>';
                                                echo "<td style='cursor:pointer' class='bg-orange text-center'>$anchor</td>";

                                        }
                                        else{
                                                $anchor='<a style="color:white; cursor:pointer;" onclick="window.open('.$url.')">'.ucwords(strtolower($v3)).'</a>';
                                                echo "<td class='bg-green text-center'>$anchor</td>";
                                        }

                                }


                                elseif($k3==1 || $k3==2 ||$k3==5|| $k3==8){
                                        echo "<td  class='text-center' >".$v3."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }

        function sys_utl2(){
                $data4 = explode("\n", trim(file_get_contents($this->currpath."space_8app.txt.".$this->datecrr)));
                //$data4 = file("../../SystemUtilization/space_8app.txt");// /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/space_8app.txt.$date
                if(parent::checkblank($data4)){ echo parent::checkblank($data4);}

                foreach ($data4 as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $vs) {
                                $v3= rtrim(trim($vs),'%');
                                /*if($v3 == ""){
                                        echo "<td  class='text-center' style='color:black;'><i class='fa fa-minus'></i></td>";
                                }*/
                                if($k3 == '0'){
                                        echo "<td class='text-center' style='background-color:#cdc;color:black;'>".ucwords(strtolower($v3))."</td>";
                                }
                                elseif($v3 == "NA"){
                                        echo "<td class='text-center'><i class='fa fa-minus'></i></td>";
                                }
                                elseif($k3 > '0' && $k3 <= '3'  || $k3 == '9' && $v3 > '74'){
                                        if($v3 != ""){
                                                if($v3 >='75' && $v3 <='85' ){
                                                        echo "<td class='bg-yellow text-center'>".$v3."</td>";
                                                }
                                                elseif( $v3 > '85' ){
                                                        echo "<td class='bg-red text-center'>".$v3."</td>";
                                                }
                                                else{
                                                        echo "<td class='text-center'>".$v3."</td>";
                                                }
                                        }
                                        else{
                                                echo "<td class='text-center' style='color:black;'><i class='fa fa-minus'></i></td>";
                                        }
                                }
                                elseif(($k3 == '4' || $k3 == '5'  || $k3 == '11') && $v3 > '79'){
                                        if($v3 != ""){
                                                if($v3 >='80' && $v3 <='85' ){
                                                        echo "<td class='bg-yellow text-center'>".$v3."</td>";
                                                }
                                                elseif( $v3 > '85' ){
                                                        echo "<td class='bg-red text-center'>".$v3."</td>";
                                                }
                                                else {
                                                        echo "<td class='text-center' >".$v3."</td>";
                                                }
                                        }
                                        else{
                                                echo "<td class='text-center' style='color:black;'><i class='fa fa-minus'></i></td>";
                                        }
                                }
                                elseif($k3 > '5' && $k3 <= '9'){
                                        if($v3 != ""){
                                                if($v3 < '74' ){
                                                        echo "<td class='text-center'>".$v3."</td>";
                                                }
                                                else{
                                                        echo "<td class='bg-red text-center'>".$v3."</td>";
                                                }
                                        }
                                        else{
                                                echo "<td class='text-center' style='color:black;'><i class='fa fa-minus'></i></td>";
                                        }
                                }
                                elseif(($k3 == '10' || $k3 == '11' || $k3 == '12') ){
                                        if($v3 != ""){
                                                if( $v3 > '90'){
                                                        echo "<td  class='bg-red text-center'>".$v3."</td>";
                                                }
                                                elseif($v3 >='75' && $v3 <='90' ){
                                                        echo "<td class='bg-yellow text-center'>".$v3."</td>";
                                                }
                                                else{
                                                        echo "<td class='text-center' >".$v3."</td>";
                                                }
                                        }
                                        else{
                                                echo "<td class='text-center' style='color:black;'><i class='fa fa-minus'></i></td>";
                                        }
                                }
                                else{
                                        echo "<td class='text-center' >".$v3."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }



       function sys_utl3(){
                $data2 = explode("\n", shell_exec("cat ".$this->currpath."top_8apps.txt.".$this->datecrr." | grep -v 'no rows'"));
                if (parent::checkblank($data2)) {
                    echo parent::checkblank($data2);
                }
                array_pop($data2);
                if (count($data2) == 0) {
                    echo "<tr><th colspan='4'><span class='btn btn-warning'>No Data Available</span></th></tr>";
                } else {
                    foreach ($data2 as $line_num => $line) {
                    $var = explode(" ", $line);
                    echo "<td class='text-center'><span >".ucwords(strtolower($var[0]))."(".$var[1].")</span></td>";
                    echo "<td class='text-center'><span>".$var[2]."</span></td>";
                    echo "<td class='text-center bg-aqua-active' title='".$var[8]."'>".$var[7]."</td>";
                    echo "<td class='text-center'>".$var[4]."</td>";
                    echo "</tr>";
                    }
              }
      }



        function sys_utl4(){
                $data3 = explode("\n", file_get_contents($this->currpath."hung_8apps.txt.".$this->datecrr));
                //$data3 = file("../../SystemUtilization/hung_8apps.txt");// /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/hung_8apps.txt.$date
                if(parent::checkblank($data3)){ echo parent::checkblank($data3);}

                foreach ($data3 as $line_num => $line) {
                        $var = explode(" ",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td  class='text-center'>".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function nr_sys_utl3(){
                //$data2 = explode("\n", shell_exec("cat ".$this->currpath."top_nr_9apps.txt.".$this->datecrr." |grep -v 'no rows'"));
                $data2 = explode("\n", file_get_contents($this->currpath."top_nr_9apps.".$this->datecrr));
                //$data2 = file("../../SystemUtilization/top_8apps.txt");// /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/top_8apps.txt.$date
                if(parent::checkblank($data2)){ echo parent::checkblank($data2);}
                array_pop($data2);
                if(count($data2) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else{
                        foreach ($data2 as $line_num => $line) {
                                        $var = explode(" ",$line);
                                        if($var[1] != $var[3]){
                                                echo "<td  class='text-center' ><span >".$var[0]."(".$var[1].")</span></td>";
                                                echo "<td  class='text-center' ><span>".$var[2]."</span></td>";
                                                echo "<td  class='text-center' ><span class='label label-danger'>".$var[3]."</td>";
                                                if($var[5] > '30') {echo "<td  class='text-center' >".$var[4]."(<span class='label label-danger'>".$var[5]."</span>)</td>";}
                                                else{echo "<td  class='text-center' ><span>".$var[4]."(".$var[5].")</span></td>";}
                                        }
                                        else{
                                                echo "<td  class='text-center' ><span >".$var[0]."(".$var[1].")</span></td>";
                                                echo "<td  class='text-center' ><span>".$var[2]."</span></td>";
                                                echo "<td  class='text-center' >".$var[3]."</td>";
                                                if($var[5] > '30') {echo "<td  class='text-center' >".$var[4]."(<span class='label label-danger'>".$var[5]."</span>)</td>";}
                                                else{echo "<td  class='text-center' ><span>".$var[4]."(".$var[5].")</span></td>";}
                                        }
                                        echo "</tr>";
                        }
                }
        }
        /*function nr_sys_utl3(){
                $data2 = explode("\n", file_get_contents($this->currpath."top_nr_9apps.".$this->datecrr));
                        $temp = array();$g = array();
                for($i=0;$i<(count($data2));$i++){
                        $y = explode(" ",$data2[$i]);
                        //array_shift($y);
                        rsort($y);
                        //echo $y[5];
                        if(intval($y[5]) > 30){
                                $temp[] = $data2[$i];
                        }
                        else{
                                $g[] = $data2[$i];
                        }
                }
                        $data2 = array_merge($temp,$g);

                if(parent::checkblank($data2)){ echo parent::checkblank($data2);}

                if(count($data2) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else{
                        foreach ($data2 as $line_num => $line) {
                                        $var = explode(" ",$line);
                                        if($var[1] != $var[3]){
                                                echo "<td  class='text-center' ><span >".$var[0]."(".$var[1].")</span></td>";
                                                echo "<td  class='text-center' ><span >".$var[2]."</span></td>";
                                                echo "<td  class='text-center' ><small class='label label-danger'>".$var[3]."</small></td>";
                                                echo "<td  class='text-center' ><span >".$var[4]."</span></td>";
                                                if($var[5] > '30') {echo "<td  class='text-center' ><span class='label label-danger'>".$var[5]."</span></td>";}
                                                else{echo "<td  class='text-center' ><span >".$var[5]."</span></td>";}
                                                echo "<td  class='text-center' ><span>".$var[6]."</span></td>";
                                        }
                                        else{
                                                foreach ($var as $k3 => $v3) {
                                                        if($k3 >= '7'){
                                                                $v3 = " ";
                                                        }
                                                        elseif($k3 == '5' && intval($v3) > 30 ){
                                                                echo "<td  class='text-center'><small class='label label-danger'>".$v3."</small></td>";
                                                        }
                                                        else{
                                                                echo "<td  class='text-center'>".$v3."</td>";
                                                        }
                                                }
                                        }
                                        echo "</tr>";
                        }
                }
        }*/
        function nr_sys_utl4(){
                $data3 = explode("\n", file_get_contents($this->currpath."hung_nr_9apps.txt.".$this->datecrr));
                //$data3 = file("../../SystemUtilization/hung_8apps.txt");// /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/hung_8apps.txt.$date
                if(parent::checkblank($data3)){ echo parent::checkblank($data3);}

                foreach ($data3 as $line_num => $line) {
                        $var = explode(" ",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td  class='text-center'>".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function sys_utl5(){
                $data3 = explode("\n", file_get_contents($this->currpath."STATUS_8app.txt.".$this->datecrr));
                array_pop($data3);
                //$data3 = file("../../SystemUtilization/STATUS_8app.txt");// /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/STATUS_8app.txt.$date
                if(parent::checkblank($data3)){ echo parent::checkblank($data3);}

                foreach ($data3 as $line_num => $line) {
                        $var = explode(":",$line);
                        echo "<tr>";
                        foreach ($var as $k2 => $v2) {
                                if($k2 == '0' && $var != '' ){
                                        echo "<th style='background-color:#1f3f92;color:white;' class='text-center'>".$v2."</th>";
                                }
                                elseif($k2 > '0' &&  trim($v2) == 'Done') {
                                        echo "<td style='color:green;'>".$v2."</td>";
                                }
                                elseif(trim($v2) == 'Ended with RC') {
                                        echo "<td style='background-color:red;color:white;'>".$v2."</td>";
                                }
                                elseif(trim($v2) == 'Not Done') {
                                        echo "<td style='background-color:#db8b0b;color:white;'>".$v2."</td>";
                                }
                                elseif(trim($v2) == 'RUNNING') {
                                        echo "<td style='background-color:blue;color:white;'>".$v2."</td>";
                                }
                                elseif(trim($v2) == '') {
                                        echo "<td style=''>NA</td>";
                                }
                                else {
                                        echo "<td style=''>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function sys_utl6(){
                $data3 = explode("\n", file_get_contents($this->currpath."bncr0004_pace_8app.txt.".$this->datecrr));
                if(parent::checkblank($data3)){ echo parent::checkblank($data3);}
                //$data3 = file("../../SystemUtilization/bncr0004.txt");

                foreach ($data3 as $line_num => $line) {
                        $var = explode(":",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                if($k3 == 0){
                                        echo "<td style='background-color:#cdc;color:black;'>".$v3."</td>";
                                }
                                else{
                                        echo "<td>".$v3."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function sbi_autosys(){
                $data3 = explode("\n", file_get_contents($this->currpath."SBI_autosys_space_utilization.txt.".$this->datecrr));
                if(parent::checkblank($data3)){ echo parent::checkblank($data3);}
                //$data3 = file("../../SystemUtilization/bncr0004.txt");
                array_pop($data3);
                //print_r($data3);
                foreach ($data3 as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                if(trim($v3) == ''){
                                        echo "<td class='text-center' title='This Mount Point is Not Present in This Autosys Site'><i class='fa fa-minus'></i></td>";
                                }
                                else{
                                        if(trim($v3)>85){
                                                echo "<td><div class='progress-bar progress-bar-red progress-bar-striped active' style='width:".intval(trim($v3))."%'   >".$v3."</div></td>";
                                        }
                                        else if(trim($v3)>70){
                                                echo "<td><div class='progress-bar progress-bar-yellow progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."</div></td>";
                                        }
                                        else if(trim($v3)==0){
                                                echo "<td class='text-center'>".$v3."</td>";
                                        }
                                        else{
                                                echo "<td><div class='progress-bar progress-bar-green progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."</div></td>";
                                        }
                                }
                        }
                        echo "</tr>";
                }
        }

        function growth_rate(){
                $data3 = explode("\n", file_get_contents($this->currpath."growth_rate.txt.".$this->datecrr));
                if(parent::checkblank($data3)){ echo parent::checkblank($data3);}
                //$data3 = file("../../SystemUtilization/bncr0004.txt");

                foreach ($data3 as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td >".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function application_available(){
                $data3 = explode("\n", file_get_contents($this->currpath."start_time_8app.txt.".$this->datecrr));
                if(parent::checkblank($data3)){ echo parent::checkblank($data3);}
                //$data3 = file("../../SystemUtilization/bncr0004.txt");

                foreach ($data3 as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td>".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }


}

class repost extends datablank{
        public function __construct()
        {
                $this->getDDcrr = $_GET['date'];
                $this->singlepath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/";
                $this->singlepatheod = "/opt/hpws/apache/cgi-bin/trials/bip/data/EOD/";
                $this->mflag = trim(file_get_contents($this->singlepath."MFLAGS_D"));
                if(empty($this->getDDcrr)){
                        //$this->datecrr = date("Ymd");
                        $this->datecrr = $this->mflag;
                }
                else{
                        $this->datecrr = $this->getDDcrr;
                }
                $this->dateyear=trim(substr($this->datecrr,0,4));
                $this->dateyearmonth=trim(substr($this->datecrr,0,6));
                if($this->datecrr != $this->mflag){
                        $this->currpath = $this->singlepath.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
                        $this->currpatheod = $this->singlepatheod.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
                }
                else{
                        $this->currpath = $this->singlepath;
                        $this->currpatheod = $this->singlepatheod;
                }
        }
        function repost_im_errors(){
                $data = explode("\n", trim(file_get_contents($this->currpath."im_errors.txt.".$this->datecrr)));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                //$data = file("../../repost/im_errors.txt");

                foreach ($data as $line_num => $line) {
                        $var = explode(":",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td >".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function im_night_all(){

                $data = explode("\n", file_get_contents($this->currpath."im_errors.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line){
                        $var = explode(":",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td  class='text-center'>".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function im_stat(){
                $data = file($this->currpatheod."im_stat.txt.".$this->datecrr);
                foreach ($data as $line_num => $line){
                        $var = explode(":",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td >".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function repost_time($flag,$dur){
                $data = explode("\n",file_get_contents($this->currpath."repost_time.txt.".$this->datecrr));
                $var = explode(",",$data[0]);
                echo date('h:i:s', strtotime($var[$flag]));
        }
        function repost_dur($end,$start){
                $data = explode("\n", file_get_contents($this->currpath."repost_time.txt.".$this->datecrr));
                $var = explode(",",$data[0]);
                $x = strtotime($var[$end]) - strtotime($var[$start]);
                //echo date('h:i', strtotime($x));
                //echo floor($x/60);
                echo date("H:i:s",$x);
        }
}

class trickelfeed extends datablank{
        public function __construct(){
                $this->getDDcrr = $_GET['date'];
                $this->singlepath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/";
                $this->mflag = trim(file_get_contents($this->singlepath."MFLAGS_D"));
                if(empty($this->getDDcrr)){
                        //$this->datecrr = date("Ymd");
                        $this->datecrr = $this->mflag;
                }
                else{
                        $this->datecrr = $this->getDDcrr;
                }
                $this->dateyear=trim(substr($this->datecrr,0,4));
                $this->dateyearmonth=trim(substr($this->datecrr,0,6));
                if($this->datecrr != $this->mflag){
                        $this->currpath = $this->singlepath.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
                }
                else{
                        $this->currpath = $this->singlepath;
                }
        }

        function trickle_sharda($flag){
                $data = explode("\n",trim(file_get_contents($this->currpath.$flag.".txt.".$this->datecrr)));
                if(count($data) > 1){
                                echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                        }
                else{
                        foreach($data as $key => $val){
                                $newVal = explode(" ",$val);
                                echo "<tr>";
                                foreach ($newVal as $k3 => $v3) {
                                        $var1 =explode(":",$v3);
                                        foreach ($var1 as $k => $v) { echo "<td  class='text-center' >".$v."</td>";  }
                                }
                                echo "</tr>";
                        }
                }
        }


        function shared_mem($flag){
                $data = explode("\n",shell_exec("cat ".$this->currpath.$flag.".txt.".$this->datecrr."| grep -v SrNo"));
                array_pop($data);
                //$data = explode("\n",rtrim(file_get_contents($this->currpath."test1.txt_abcde")));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                elseif(count($data) >= '25'){
                     #  echo "<tr>";
                            #   echo "<th class='text-center'>#</th>";
                          #     echo "<th class='text-center'>Batch Id</th>";
                           #    echo "<th class='text-center'>Total messages</th>";
                             #  echo "<th class='text-center'>Processed Messages</th>";
                #       echo "</tr>";
                        echo "<tr><th colspan='4'><center><span class='btn btn-danger'>Error !</span></center></th></tr>";
                        foreach($data as $line_num => $line){
                        $var = explode("\t",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3){
                                if(stristr($v3,'failed')){
                                        echo "<td style='color:white;background-color:red;'><center>".ucwords($v3)."</center></td>";
                                }
                                else{
                                        echo "<td class='text-center'>".ucwords($v3)."</td>";
                                }
                        }
                        echo "</tr>";
                        }
                }
                else
                {
                      # echo "<tr>";
                      #                 echo "<th class='text-center'>#</th>";
                        #       echo "<th class='text-center'>Batch Id</th>";
                                #echo "<th class='text-center'>Total messages</th>";
                #           echo "<th class='text-center'>Processed Messages</th>";
                        echo "</tr>";
                        foreach($data as $line_num => $line){
                        $var = explode("\t",$line);
                        echo "<tr>";
                        foreach($var as $k3 => $v3) {
                                if(stristr($v3,'failed')) {
                                        echo "<td class='text-center'><center><span style='font-size:20px;' class='label label-danger'>".ucwords($v3)."</span></center></td>";
                                }
                                elseif(stristr($v3,'shared')){
                                        echo "<td colspan='4' class='text-center'><center><span style='font-size:15px;' class='label label-success'>".ucwords($v3)."</span></center></td>";
                                }
                                else{
                                        echo "<td class='text-center'><center>".ucwords($v3)."</center></td>";
                                }
                        }
                        echo "</tr>";
                        }
                }
        }
        function trickle_filestat($flag, $plot){
                $cdate = date("Ymd");
                $data = file("../../Tricklefeed/tfstat_".$flag.".txt.".$cdate);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(" ",$line);
                        foreach ($var as $k3 => $v3) {
                                $var1 =explode(",",$v3);
                                foreach ($var1 as $k => $v) {
                                        if($k == 1){
                                                $sumproc += $v;
                                        }
                                        elseif($k == 3){
                                                $sumrej += $v;
                                        }
                                        elseif($k == 4){
                                                $sumpend += $v;
                                        }
                                }
                        }
                }
                if($plot == 'process'){
                        echo '<span class="label label-success" style="float:right;">'.$sumproc.'</span>';
                }
                elseif($plot == 'pend'){
                        if($sumpend > 100){
                                echo '<span class="label label-danger" style="float:right;">'.$sumpend.'</span>';
                        }
                        elseif($sumpend >50 && $sumpend < 100){
                                echo '<span class="label label-warning" style="float:right;">'.$sumpend.'</span>';
                        }
                        else{
                                echo '<span class="label label-success" style="float:right;">'.$sumpend.'</span>';
                        }
                }
                elseif($plot == 'reject'){
                        echo '<span class="label label-danger" style="float:right;">'.$sumrej.'</span>';
                }

                /*echo "<tr>";
                echo "<td  class='text-center'>".$sumproc."</td>";
                echo "<td  class='text-center'>".$sumpend."</td>";
                echo "<td  class='text-center'  style='color:red;'>".$sumrej."</td>";
                echo "</tr>";*/
        }

        function trickel_status($flag){
                $data = file("../../Tricklefeed/tfstat.txt");
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                $size = sizeof($data) / 2;
                $f = ceil($size);
                if($flag == 1){
                        foreach ($data as $line_num => $line) {
                                if($line_num < $f){
                                        $var = explode(",",$line);
                                        echo "<tr>";
                                        foreach ($var as $k3 => $v3) {
                                                $var1 =explode(",",$v3);
                                                foreach ($var1 as $k => $v) { echo "<td  class='text-center' >".$v."</td>";  }
                                        }
                                        echo "</tr>";
                                }
                        }
                }
                elseif($flag == 2){
                        foreach ($data as $line_num => $line) {
                                if($line_num > $f){
                                        $var = explode(",",$line);
                                        echo "<tr>";
                                        foreach ($var as $k3 => $v3) {
                                                $var1 =explode(",",$v3);
                                                foreach ($var1 as $k => $v) { echo "<td  class='text-center' >".$v."</td>";  }
                                        }
                                        echo "</tr>";
                                }
                        }
                }
        }

        function Portal_Main_Bulk_File(){
                $data = explode("\n", file_get_contents($this->currpath."Portal_Main_Bulk_File.txt_".$this->datecrr));
                //$data = file("../../Tricklefeed/Portal_Main_Bulk_File.txt");
                //echo $this->currpath."Portal_Main_Bulk_File.txt_".$this->datecrr;
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                $vall = trim($v3);
                                if($k3 == '0'){
                                        echo "<th>".$v3."</th>";
                                }
                                /*elseif($k3 > '0' &&  $vall == 'RUNNING') {
                                        echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                                }
                                elseif($k3 > '0' &&  $v3 == 'NOT RUNNING') {
                                        echo "<td style='color:red;'><i class='fa fa-close'></i></td>";
                                }
                                 elseif($k3 > '0' &&  $v3 == 'NOT UPDATING') {
                                                echo "<td style='color:#f39c12;'><i class='fa fa-fw fa-warning'></i></td>";
                                }*/
                                else {
                                        echo "<td class='text-center'>".$v3."</td>";
                                }
                        }
                                echo "</tr>";
                }
        }
        function tf_stat(){
                $data = explode("\n", trim(file_get_contents($this->currpath."tf_stat.".$this->datecrr)));
                //$data = file("../../Tricklefeed/tf_stat.txt");
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(" ",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                if($k3 < 6){
                                        if($k3 == '0'){
                                                echo "<th  class='text-center'>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td  class='text-center' >".$v3."</td>";
                                        }
                                }
                        }
                        echo "</tr>";
                }
        }


        function trickle_ccpc(){
                $data=file("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/onlyccpc.txt");
        $mldate = trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/MFLAGS_D"));
                foreach ($data as $line_num => $line){
                        $var = explode("@",$line);
                        echo "<tr>";
                                echo "<td class='text-center'><a href='ccpc_graph.php?filename=$var[0].txt.$mldate&&ccpcname=$var[1]' target='blank'>".$var[0]."</a></td>";
                                echo "<td class='text-center'>".$var[1]."</td>";
                                echo "<td class='text-center'>".$var[2]."</td>";
                                echo "<td class='text-center'>".shell_exec("grep SAN ".$this->currpath."ccpc_pend_?.txt.".$this->datecrr."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep SAN ".$this->currpath."ccpc_proc_?.txt.".$this->datecrr."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep CIL ".$this->currpath."ccpc_pend_?.txt.".$this->datecrr."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep CIL ".$this->currpath."ccpc_proc_?.txt.".$this->datecrr."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep OCL ".$this->currpath."ccpc_pend_?.txt.".$this->datecrr."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep OCL ".$this->currpath."ccpc_proc_?.txt.".$this->datecrr."|grep ".trim($var[0])."|wc -l")."</td>";
                        echo "</tr>";

                }
        }
        /*function trickle_ccpc(){
                $mldate = trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/MFLAGS_D"));
                $getDDcrr = $_GET['date'];
                if(empty($getDDcrr)){
                        $crdate  = $mldate;
                }
                else{
                        $crdate  = $getDDcrr;
                }
                $prevdate=date("Ymd",strtotime("-1 days",strtotime($crdate)));
                $dateyear=trim(substr($prevdate,0,4));
                $dateyearmonth=trim(substr($prevdate,0,6));
                if($mldate == $crdate){
                        $currpath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/";
                }
                else{
                        $currpath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/".$dateyear."/".$dateyearmonth."/".$crdate."/";
                }
                $data=file("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/onlyccpc.txt");
                foreach ($data as $line_num => $line){
                        $var = explode("@",$line);

                        echo "<tr>";
                                echo "<td class='text-center'>".$var[0]."</td>";
                                echo "<td class='text-center'>".$var[1]."</td>";
                                echo "<td class='text-center'>".$var[2]."</td>";
                                echo "<td class='text-center'>".shell_exec("grep SAN ".$currpath."ccpc_pend_?.txt.".$crdate."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep SAN ".$currpath."ccpc_proc_?.txt.".$crdate."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep CIL ".$currpath."ccpc_pend_?.txt.".$crdate."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep CIL ".$currpath."ccpc_proc_?.txt.".$crdate."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep OCL ".$currpath."ccpc_pend_?.txt.".$crdate."|grep ".trim($var[0])."|wc -l")."</td>";
                                echo "<td class='text-center'>".shell_exec("grep OCL ".$currpath."ccpc_proc_?.txt.".$crdate."|grep ".trim($var[0])."|wc -l")."</td>";
                        echo "</tr>";

                }
        }*/


        function Total_trickle(){
                //$data = array_slice(explode("\n", trim(file_get_contents($this->currpath."TRIC_FIN_DATA.txt.".$this->datecrr))),-3);
                $data = array_slice(explode("\n", trim(file_get_contents($this->currpath."TRIC_FIN_DATA.txt.20170914"))),-3);
                //$data = file("../../Tricklefeed/tf_stat.txt");
                //if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                        if($k3 == '0'){
                                                echo "<th  class='text-center'>".$v3."</th>";
                                        }
                                        else {
                                                if($v3 == '0'){
                                                echo "<td  class='text-center' >".$v3."</td>";
                                                }
                                                else{
                                                echo "<td  class='text-center'  style='color:red;'>".$v3."</td>";
                                                }
                                        }
                        }
                        echo "</tr>";
                }
        }
        function throwRed($dataArr,$param){
                $temp = array();$m = array();
                for($i=0;$i<(count($dataArr)-1);$i++){
                        $y = explode($param,$dataArr[$i]);
                        $g = array();
                        foreach($y as $k => $l){
                                if( $k > 0 && ($k%2) == 0){
                                        $g[] = $l;
                                }
                        }
                        rsort($g); array_shift($y); rsort($y);
                        if($g[0] > 0){
                                $temp[] = $dataArr[$i];
                        }
                        elseif($y[0] > 0){
                                $m[] = $dataArr[$i];
                        }
                }
                return array_merge($temp,$m);
        }
        function Total_trickle_1(){
                $data1 = explode("\n", trim(file_get_contents($this->currpath."TRICKLEFEED_MASTER.txt_".$this->datecrr)));
                $data2 = explode(",",shell_exec("cat ".$this->currpath."TRICKLEFEED_MASTER.txt_".$this->datecrr." | tail -1"));
                //$data = explode("\n", trim(file_get_contents($this->currpath."tf_master_sort")));
                //$data = file("../../Tricklefeed/tf_stat.txt");
                //if(parent::checkblank($data)){ echo parent::checkblank($data);}
                $data = $this->throwRed($data1,',');
                foreach ($data1 as $line_num => $line) {
                        $var = explode(",",$line);
                        if( $line_num == 0 ){
                                echo "<tr>";
                                foreach($data2 as $key =>$value){
                                        if($key == 0){
                                                echo "<td class='text-center' style='color:darkblue;font-weight:bold;'>".str_replace("ZZ","",$value)."</td>";
                                        }
                                        elseif($key > 0 && ($key%2) == 0 && $value > 0){
                                                echo "<td class='text-center' style='background-color:red;color:white;'>".$value."</td>";
                                        }
                                        elseif($key > 0 && ($key%2) != 0 && $value > 0){
                                                echo "<td class='text-center' style='background-color:green;color:white;'>".$value."</td>";
                                        }
                                        else{
                                                echo "<td class='text-center' style='color:darkblue;font-weight:bold;'>".$value."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                        if($k3 == 0){
                                                echo "<th class='text-center'>".$v3."</th>";
                                        }
                                        else {
                                                if($k3 > 0 && ($k3%2) == 0 && $v3 > 0 ){
                                                echo "<td  class='bg-red text-center' onclick='getAging(this);'>".$v3."</td>";
                                                }
                                                elseif($k3 > 0 && $v3 > 0 ){
                                                        echo "<td class='bg-green text-center'>".$v3."</td>";
                                                }
                                                else{
                                                        echo "<td class='text-center'>".$v3."</td>";
                                                }
                                                /*else{
                                                        echo "<td  class='text-center'  style='color:green;'><small class='label label-success'>".$v3."</small></td>";
                                                }*/
                                        }
                        }
                        echo "</tr>";
                }
        }

                function Total_trickle_1_tail(){
                $data2 = explode(",",shell_exec("cat ".$this->currpath."TRICKLEFEED_MASTER.txt_".$this->datecrr." | tail -1"));
                echo "<tr>";
                foreach($data2 as $key=>$value){
                        if($key == '0'){
                                echo "<th style='background-color:#cdc;color:black;' class='text-center'>TOTAL</th>";
                        }
                        else{
                                echo "<td class='text-center' style='font-weight:bold;'>".$value."</td>";
                        }
                }
                echo "</tr>";
        }
        function Total_trickle_db(){
                $con = oci_connect("MONITORP","password","opdb");
                $serverarr = array('i' => 'SUTLEJ', 'I' => 'GANGA', 'a' => 'SHARDA', 'b' => 'GIRIJA', 'c' => 'JHELUM', 'd' => 'JAMAUNA', 'e' => 'BHARAGVI', 'f' => 'MANDOVI', 'g' => 'TERNA');
                $totalArr = array();
                $mainData = array();
                $sql = oci_parse($con,"select DISTINCT(UPLD_TYP) as fileTp from tfmt where PENDING_COUNT != '0' or PROCESSED_COUNT != '' ");
                //$sql = oci_parse($con,"select * from tfmt where PENDING_COUNT != '0' or PROCESSED_COUNT != '' order by TIME DESC");
                oci_execute($sql);
                while($res=oci_fetch_assoc($sql)){
                        $x = $res['FILETP'];
                        foreach($serverarr as $keys => $datasl){
                                $fetchData = oci_parse($con,"select * from (select * from tfmt where UPLD_TYP = '$x' and DQPTYPE = '$keys' and ( PENDING_COUNT != '0' or PROCESSED_COUNT != '' ) order by TIME desc) where rownum < 2 ");
                                oci_execute($fetchData);
                                $arrSdata=oci_fetch_assoc($fetchData);
                                if(oci_num_rows($fetchData) == 1){
                                        array_push($mainData,$arrSdata['DQPTYPE'],$arrSdata['PROCESSED_COUNT'],$arrSdata['PENDING_COUNT'],$arrSdata['TIME']);
                                }
                                if($keys == 'g'){
                                        array_push($mainData,$x);
                                }
                        }
                        $totalArr[] = $mainData;
                        unset($mainData);
                        $mainData = array();
                }
                return $totalArr;
        }

        /*function pendingTrickel($server,$flag){
                $data = explode("\n", trim(file_get_contents($this->currpath."TRIC_MAS_FIN_DATA.txt_".$server."_".$this->datecrr)));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                $serverarr = array('i' => 'SUTLEJ', 'I' => 'GANGA', 'a' => 'SHARDA', 'b' => 'GIRIJA', 'c' => 'JHELUM', 'd' => 'JAMAUNA', 'e' => 'BHARAGVI', 'f' => 'MANDOVI', 'g' => 'TERNA');
                if($flag == 'name'){
                        echo $serverarr[$server];
                }
                elseif($flag == 'tabled') {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                                if($k3 == '0'){
                                                        echo "<th  class='text-center'>".$v3."</th>";
                                                }
                                                else {
                                                        echo "<td  class='text-center'>".$v3."</td>";
                                                }
                                }
                                echo "</tr>";
                        }
                }
        }*/

        function pendingTrickel($server,$filename){
                $IndexFile = array('2' => 'i', '4' => 'I', '6' => 'a', '8' => 'b', '10' => 'c', '12' => 'd', '14' => 'e', '16' => 'f', '18' => 'g');
                $getName = $IndexFile[$server];
                //$dataTrain = array();
                $data = explode("\n", trim(file_get_contents($this->currpath."TRIC_MAS_FIN_DATA.txt_".$getName."_".$this->datecrr)));
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        if(trim($var[0]) == trim($filename)){
                                $dataTrain = $var;
                        }
                }
                echo json_encode($dataTrain);
        }
        function pendingConsoTrickel(){
                $IndexFile = array('i' => 'SUTLEJ', 'I' => 'GANGA', 'a' => 'SHARDA', 'b' => 'GIRIJA', 'c' => 'JHELUM', 'd' => 'JAMAUNA', 'e' => 'BHARAGVI', 'f' => 'MANDOVI', 'g' => 'TERNA');
                //$data = explode("\n", trim(file_get_contents($this->currpath."TRIC_MAS_FIN_DATA.txt_".$getName."_".$this->datecrr)));
                $data = explode("\n", shell_exec("grep -n ',' /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/TRIC_MAS_FIN_DATA.txt_*_".$this->datecrr));
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach($var as $k => $dats){
                                if($k == 0){
                                        $gf = explode(":",$dats);
                                        echo "<td class='text-center'>".$IndexFile[substr($gf[0],-10,1)]."</td>";
                                        echo "<td class='text-center'>".$gf[2]."</td>";
                                }
                                else{
                                        echo "<td class='text-center'>".$dats."</td>";
                                }
                        }

                        echo "</tr>";
                }
        }
        /*function clog_details(){
                $data = explode("\n",shell_exec("tail -15 ".$this->currpath."clog_details.txt.".$this->datecrr));
                //$data = file("../../Tricklefeed/tf_stat.txt");
                //if(parent::checkblank($data)){ echo parent::checkblank($data);}
                array_pop($data);
                foreach ($data as $line_num => $line){
                        echo "<tr>";
                        $var = explode("]",rtrim($line));
                        echo "<th class='text-center'>".$var[0]."]</th>";
                        $var1 = explode(":",rtrim($var[1]));
                        if(count($var1)==5){
                                echo "<th class='text-center'>".explode(" ",trim($var1[2]))[0]."</th>";
                                echo "<th class='text-center'>".explode(" ",trim($var1[3]))[0]."</th>";
                                echo "<th class='text-center'>NA</th>";
                                echo "<th class='text-center'>".trim($var1[4])."</th>";
                        }
                        else{
                                foreach ($var1 as $k3 => $v3) {
                                        if($k3 > 1){
                                                $rawdata=explode(" ",trim($v3))[0];
                                                echo "<th class='text-center'>".$rawdata."</th>";
                                        }
                                }
                        }
                        echo "</tr>";
                }
        }*/
        function clog_details(){
                $data = explode("\n",shell_exec("cat ".$this->currpath."clog_details.txt.".$this->datecrr."|sort -nk4|grep -v REPOST"));
                //$data = file("../../Tricklefeed/tf_stat.txt");
                //if(parent::checkblank($data)){ echo parent::checkblank($data);}
                array_pop($data);
                foreach ($data as $line_num => $line){
                        echo "<tr>";
                        $line2=preg_replace('!\s+!',' ',$line);
                        $var = explode(" ",trim($line2));
                        $hourtocomapre=explode(":",trim($var[2]));
                        if(date("m/d/Y")==trim($var[1]) && $hourtocomapre[0]==date("H")){
                                $color="bg-red";
                        }
                        else{
                                $color="";
                        }
                        //print_r($var);
                        echo "<th class='text-center $color'>".$var[0]."</th>";
                                echo "<td class='text-center $color'>".$var[1]." ".$var[2]."</td>";
                                echo "<td class='text-center $color'>".$var[3]." ".$var[4]."</td>";
                                echo "<td class='text-center $color'>".$var[5]."</td>";
                                echo "<td class='text-center $color'>".$var[6]."</td>";
                        echo "</tr>";
                }
        }
}


class rtgs extends datablank{
        public function __construct()
        {
                $this->getDDcrr = $_GET['date'];
                $this->singlepath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/";
                $this->mflag = trim(file_get_contents($this->singlepath."MFLAGS_D"));
                if(empty($this->getDDcrr)){
                        //$this->datecrr = date("Ymd");
                        $this->datecrr = $this->mflag;
                }
                else{
                        $this->datecrr = $this->getDDcrr;
                }
                $this->dateyear=trim(substr($this->datecrr,0,4));
                $this->dateyearmonth=trim(substr($this->datecrr,0,6));
                if($this->datecrr != $this->mflag){
                        $this->currpath = $this->singlepath.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
                }
                else{
                        $this->currpath = $this->singlepath;
                }
        }
        function rtgss(){
                //$data = file("../../Channels/rtgsTime.txt");
                $data = explode("\n", file_get_contents("/opt/hpws/apache/htdocs/pace/Channels/rtgsTime.txt"));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td style='color:#0b72e5' class='text-center' >".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function mismatch()
        {
                $mismatch =trim(file_get_contents($this->currpath."mismatch.txt.".$this->datecrr)       );
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                //print_r($mismatch);
                echo "<tr>";
                if($mismatch =='NO_MISS_MATCH')
                {
                echo "<td class='text-center' style='color:green;'>".$mismatch."</td>";
                }
                else
                {
                        echo "<td class='text-center' style='color:red;'>".$mismatch."</td>";
                }
                echo "</tr>";
        }

        function rtgss_time($flag){
                //$data = file("../../Channels/rtgsProcTimeConsolidated.txt");
                $data = explode("\n", file_get_contents($this->currpath."rtgsProcTimeConsolidated.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                if($flag == 0){
                for($i=0;$i<count($data)-1;$i++) {
                        $var = explode(",",$data[$i]);
                        echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        if($i <= 2){
                                                echo "<td style='color:#3c8dbc;background-color: #fff;'>".$v3."</td>";
                                        }
                                        elseif($i > 2){
                                                echo "<td style='color:red;background-color: #fff;'>".$v3."</td>";
                                        }

                                        //echo "<td style='color:#3c8dbc;background-color: #fff;'>".$v3."</td>";
                                }
                                echo "</tr>";
                        }
                }
                /*elseif($flag == 1){
                        for($i=2; $i < sizeof($data); $i++) {
                        $var = explode(",",$data[$i]);
                        echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        if($k3 == 1 && $v3 > 0){
                                                echo "<td style='color:red;background-color: #fff;'>".$v3."</td>";
                                        }
                                        else{
                                                echo "<td style='color:#3c8dbc;background-color: #fff;'>".$v3."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }*/
        }


        function port_status(){
                $crrdate=date("Ymd");
                $check = array("2","5","8","11","14");
                //$data = file("../../Channels/inb_port_all5.txt.".$crrdate);
                $data = explode("\n", trim(file_get_contents($this->currpath."inb_port_all5.txt.".$this->datecrr)));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                if(in_array($k3,$check) && $v3 > 100){
                                        echo "<td  class='text-center'  style='color:red;'>".$v3."</td>";
                                }
                                else{
                                        echo "<td  class='text-center' >".$v3."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function gateway_all($flag){

                $data = explode("\n", trim(file_get_contents($this->currpath."$flag.".$this->datecrr)));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                echo "<td  class='text-center' >".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }

        function rtgss_server($flag){
                //$data = file("../../ApplnMonitor/gateway.txt_8app.txt");
                $data = explode("\n", file_get_contents($this->currpath."gateway.txt_8app.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                $var = explode(",",trim($data[$flag]));
                echo "<tr>";
                foreach ($var as $k3 => $v3) {
                        if($v3 == 'RUNNING' && $k3 > 0){
                                echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                        }
                        elseif($v3 == 'NOT RUNNING'  && $k3 > 0) {
                                        echo "<td style='background-color:red;'><i class='fa fa-close'></i></td>";
                        }
                        elseif($v3  == 'NOT UPDATING') {
                                        echo "<td style='color:#f39c12;'><i class='fa fa-fw fa-warning'></i></td>";
                                }
                        elseif($k3 > 0) {
                                echo "<td style='color:#c96798;'>".$v3."</td>";
                        }
                }
                echo "</tr>";
        }

        function atm_online(){
                $crrdate = date('Ymd');
                //$data = file("../../Channels/INB/summaryfile_master.txt.".$crrdate);
                 $data = explode(" ",file_get_contents($this->currpath."atmib.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                        echo "<td style='color:#0b72e5;'>".$data[1]."</td>";
                        echo "<td style='color:#0b72e5;'>".$data[2]."</td>";
        }

        function inb_offline(){
                $crrdate = date('Ymd');
                //$data = file("../../Channels/INB/summaryfile_master.txt.".$crrdate);
                $data = explode(" ", file_get_contents($this->currpath."atmib.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                        echo "<td style='color:#0b72e5;'>".$data[4]."</td>";
                        echo "<td style='color:#0b72e5;'>".$data[5]."</td>";
                        echo "<td style='color:#0b72e5;'>".$data[6]."</td>";
                        echo "<td style='color:#0b72e5;'>".$data[7]."</td>";
        }
        function total_neft_yesterday(){
                //$data = file("../../Channels/INB/summaryfile_master.txt.".$crrdate);
                $data = explode(",",trim(file_get_contents($this->currpath."neftall.txt.".$this->datecrr)));
                foreach($data as $index => $value){
                        if(($index==5 || $index==6) && $value > 0){
                                echo "<td class='text-center' style='background-color:red;color:white;'>".$value."</td>";
                        }
                        else{
                                echo "<td class='text-center' style='color:black'>".$value."</td>";
                        }
                }
        }
        function total_neft_invalid(){
                $data = shell_exec("cat ".$this->currpath."neftinvalid.txt.".$this->datecrr."| awk -F':' '{print $2}'");
                $data1 = shell_exec("cat ".$this->currpath."neftnightinvalid.txt.".$this->datecrr."| awk -F':' '{print $2}'");
                if($data > 0){echo "<td class='text-center' style='background-color:red;color:white'>".$data."</td>";}
                else{echo "<td class='text-center' style='color:black'>".$data."</td>";}
                if($data1 > 0){echo "<td class='text-center' style='background-color:red;color:white'>".$data1."</td>";}
                else{echo "<td class='text-center' style='color:black'>".$data1."</td>";}
        }
        function neft_invalid_utrlist($file){
                $data = file($this->currpath.$file.".".$this->datecrr);
                //print_r($data);
                if(empty($data)){
                        echo "<tr>";
                                echo "<td><span class='btn btn-success'>No</span></td>";
                                echo "<td><span class='btn btn-success'>Invalid</span></td>";
                                echo "<td><span class='btn btn-success'>UTR Present</span></td>";
                                echo "<td><span class='btn btn-success'>Present In</span></td>";
                                echo "<td><span class='btn btn-success'>this Region</span></td>";
                        echo "</tr>";
                }
                else{
                        foreach($data as $index=>$value){
                                echo "<tr>";
                                        $eachtd=explode("|",$value);
                                        foreach($eachtd as $index1=>$value1){
                                                echo "<td class='text-center' style='color:black'>".$value1."</td>";
                                        }
                                echo "</tr>";
                        }
                }
        }
        function neft_repost_fail($file){
                $data = file($this->currpath.$file."_".$this->datecrr.".txt");
                //print_r($data);
                if(empty($data)){
                        echo "<tr>";
                                echo "<td></td>";
                                echo "<td><span class='btn btn-success'>NO</span></td>";
                                echo "<td><span class='btn btn-success'>REPOST</span></td>";
                                echo "<td><span class='btn btn-success'>FAILED</span></td>";
                                echo "<td><span class='btn btn-success'>UTR</span></td>";
                                echo "<td><span class='btn btn-success'>PRESENT</span></td>";
                                echo "<td></td>";
                        echo "</tr>";
                }
                else{
                        foreach($data as $index=>$value){
                                echo "<tr>";
                                        $eachtd=explode("|",$value);
                                        echo "<td class='text-center' style='color:black'>".$eachtd[0]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[1]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[2]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[3]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[4]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[5]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[6]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[7]."</td>";
                                echo "</tr>";
                        }
                }
        }
        function neft_repost_fail_all($file){
                $data = explode("\n",shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/".$file."*|sort -nrk1"));
                //print_r($data);
                if(empty($data)){
                        echo "<tr>";
                                echo "<td colspan='5'><span class='btn btn-success'>No REPOST FAILED UTR Present</span></td>";
                        echo "</tr>";
                }
                else{
                        foreach($data as $index=>$value){
                                echo "<tr>";
                                        $eachtd=explode("|",$value);
                                        $linkTCP="window.open('gatewaymore.php?type=NEFT&&date=".$eachtd[0]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                        echo "<td class='text-center' style='color:black'><a target='_blank' onclick=$linkTCP class='label label-primary'>".$eachtd[0]."</a></td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[1]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[2]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[3]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[4]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[5]."</td>";
                                echo "</tr>";
                        }
                }
        }
        function rtgs_repost_fail_all($file){
                $data = explode("\n",shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/".$file."*|sort -nrk1"));
                //print_r($data);
                if(empty($data)){
                        echo "<tr>";
                                echo "<td colspan='5'><span class='btn btn-success'>No REPOST FAILED UTR Present</span></td>";
                        echo "</tr>";
                }
                else{
                        foreach($data as $index=>$value){
                                echo "<tr>";
                                        $eachtd=explode("|",$value);

                                        $linkTCP="window.open('gatewaymore.php?type=NEFT&&date=".$eachtd[0]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                        echo "<td class='text-center' style='color:black'><a target='_blank' onclick=$linkTCP class='label label-primary'>".$eachtd[0]."</a></td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[1]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[2]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[3]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[4]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[6]."</td>";
                                echo "</tr>";
                        }
                }
        }
        function neft_utr_desc(){
                $data = file($this->currpath."errorcodedetails.txt.".$this->datecrr);
                //print_r($data);
                array_pop($data);
                if(empty($data)){
                        echo "<tr>";
                                echo "<td colspan='2'><span class='btn btn-success'>No REPOST FAILED UTR Present</span></td>";
                        echo "</tr>";
                }
                else{
                        foreach($data as $index=>$value){
                                echo "<tr>";
                                        $eachtd=explode("|",$value);
                                        echo "<td class='text-center' style='color:black'>".$eachtd[0]."</td>";
                                        echo "<td class='text-center' style='color:black'>".$eachtd[1]."</td>";
                                echo "</tr>";
                        }
                }
        }
        //added on 20180102 by Mj----******************
        function schl_transaction(){
                $data = file($this->currpath."schl_data.".$this->datecrr);
                $data1 = file($this->currpath."neft_incoming.txt.".$this->datecrr);
                //echo $this->currpath;
                $natsfmq = shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NAT_utr.txt|grep ".$this->datecrr);
                if(count($data1)>1){
                        $errorstring=explode(":",$data1[3]);
                        $pushelement="NEFT INCOMING QUERY ERROR,".$errorstring[0].'('.$errorstring[1].')';
                }
                else{
                        $pushelement=$data1[0];
                }
                array_push($data,$pushelement);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line){
                        echo "<tr>";
                                $var = explode(",",$line);
                                //echo $var[0].$line_num;
                                        foreach ($var as $k3 => $v3){
                                        if($k3 == '0'){
                                                if($line_num == 0){
                                                        echo "<th style='background-color:#cdc;color:black;' title='StockHolding Corporation of India Limited (SHCIL)' class='text-center'>".$v3."</th>";
                                                }
                                                else{
                                                        echo "<th style='background-color:#cdc;color:black;' class='text-center'>".$v3."</th>";
                                                }

                                        }
                                        elseif($k3 == 1 && $v3 == 0){
                                                echo "<th class='bg-green text-center'>Please Check</th>";
                                        }
                                        elseif($k3 == 2 && $v3 > 100){
                                                echo "<th style='background-color:red;color:white;' class='text-center'>".$v3."</th>";
                                        }
                                        elseif($k3 == 3 && trim($v3) == "ERROR"){
                                                echo "<th class='bg-red text-center'>".$v3."</th>";
                                        }
                                        else{
                                                echo "<td class='text-center' style='font-weight:bold;'>".$v3."</td>";
                                        }
                                }
                        echo "</tr>";
                }
        }
        function nat_sfmq(){
                $natsfmq = shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NAT_utr.txt|grep ".$this->datecrr."|awk -F '|' '{print $1}'");
                if(trim($natsfmq) !=""){
                        //echo $natsfmq;
                echo '<div class="alert alert-danger" title="NAT files UTR which are not inserted in sfmq" role="alert">NAT SFMQ (status 40) IN - '.$natsfmq.'</div>';
                }

        }
        //******************************
        //*************added on 20190208**********start******
        function rtgs_error(){
                $data =  file($this->currpath."error_status_RTGS.txt_".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                echo "<tr>";
                        if(strpos($data[0],"Terminal") > 0){echo "<td><span style='color:red'>".ucwords($data[0])."</span></td>";}
                        else{echo "<td><span style='color:green'>".ucwords($data[0])."</span></td>";}
                        if(strpos($data[1],"remaining") > 0){
                        $url_link="window.open('RTGS_BAL_REM.php?date=".$this->datecrr."','','height=350,width=400,scrollbars=yes,resizable=yes');";
                                echo "<td><span style='color:red'>".ucwords($data[1])."</span><a onclick=$url_link class='label label-info'>More</a></td>";
                                }
                        else{echo "<td><span style='color:green;'>".ucwords($data[1])."</span></td>";}
                echo "</tr>";
        }
        //*****************end**************
        function rtgss_s($flag){
                //$data = file("../../Channels/rtgs.txt");
                $data = explode("\n", file_get_contents($this->currpath."rtgs.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                if($flag > 1){
                        $var = explode(" ",$data[0]);
                        echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        if($k3 <= '3' || $k3 == '8'){
                                                echo "<td style='color:#0b72e5' class='text-center'>".$v3."</td>";
                                        }
                                }
                        echo "</tr>";
                }
                else{
                        $var = explode(" ",$data[0]);
                        echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        if($k3 == '0'){
                                                echo "<td style='color:#0b72e5' class='text-center' >".trim($v3)."</td>";
                                        }
                                        elseif($k3 > '3' && $k3 != '8'){
                                                if($k3 == '5' && $v3 > '500' && $v3 < '1000'){
                                                        //if($v3 > '99'){
                                                                echo "<td  class='bg-yellow text-center'>".trim($v3)."</td>";
                                                        /*}
                                                        else{
                                                                echo "<td  class='text-center'>".trim($v3)."</td>";
                                                        }*/
                                                }
                                                elseif($k3 == '5' && $v3 > '1000'){
                                                                echo "<td  class='bg-red text-center'>".trim($v3)."</td>";
                                                }
                                                else {
                                                        echo "<td style='color:#0b72e5' class='text-center' >".trim($v3)."</td>";
                                                }
                                        }
                                }
                        echo "</tr>";
                }
        }

        function rtgs_slowness(){
                $data = shell_exec("cat ".$this->currpath."rtgsspeed.txt|awk -F ':' '{print $1,$2$3$4}'|sort -nrk2|tail -1");
                $fileline=explode(" ",$data);
                $fileserver=$fileline[0];
                $filetimehh=substr($fileline[1],0,2);
                $filetimemm=substr($fileline[1],2,2);
                $filetimess=substr($fileline[1],4,2);
                $currfiletime=strtotime(date("Ymd ".$fileline[1]));
                $currtime=strtotime(date("Ymd His"));
                $difftime=$currtime-$currfiletime;
                if(intval($difftime)>600){
                        return $fileserver."|Slow";
                }
                else{
                        return $fileserver."|OK";
                }
                //echo "$filetimehh:$filetimemm:$filetimess In ".$fileserver;
        }

        function rtgss_last($flag){
                $crrdate=date("Ymd");
                //$data = file("../../Channels/rtgs_ack_all.txt");
                $data = explode("\n", file_get_contents($this->currpath."rtgs_ack_all.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                        if($k3%2 == 0 && $flag > 0 ){
                                                if($v3 > 0){
                                                        echo "<td  class='text-center'  style='color:red;'>".$v3."</td>";
                                                }
                                                else {
                                                        echo "<td  class='text-center' >".$v3."</td>";
                                                }
                                        }
                                        elseif ($k3 == 0 || ($k3%2 != 0 && $flag == 0 )) {
                                                echo "<td  class='text-center' >".$v3."</td>";
                                        }
                                }
                        echo "</tr>";
                }
        }

        function rtgss_ack($flag){
                //$data = file("../../Channels/rtgs_fresh_incoming.txt");
                $data = explode("\n", file_get_contents($this->currpath."rtgs_fresh_incoming.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                if($flag == 2 ){
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        echo "<td style='color:#0b72e5' class='text-center' >".$v3."</td>";
                                }
                                echo "</tr>";
                        }
                }
                elseif ($flag == 5){
                        $var = explode(",",$data[0]);
                        $pro_sum = $var[0] + $var[3] + $var[6] + $var[9] ;
                        $pen_sum = $var[1] + $var[4] + $var[7] + $var[10] ;
                        //$x = ($pen_sum / $pro_sum) * 100 ;
                        $x = $pen_sum / 10 ;
                        echo number_format($x, 2)."%";
                }
                else{
                        $var = explode(",",$data[0]);
                        $sum = $var[0] + $var[3] + $var[6] + $var[9] ;
                        echo $sum;
                }
        }

        function rtgss_ack_out($flag){
                //$data = file("../../Channels/rtgs_ack_incoming.txt");
                $data = explode("\n", file_get_contents($this->currpath."rtgs_ack_incoming.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                if($flag  == 2 ){
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        echo "<td style='color:#0b72e5' class='text-center' >".$v3."</td>";
                                }
                                echo "</tr>";
                        }
                }
                elseif ($flag == 5){
                        $var = explode(",",$data[0]);
                        $pro_sum = $var[0] + $var[3] + $var[6] + $var[9] + $var[12] ;
                        $pen_sum = $var[1] + $var[4] + $var[7] + $var[10]  + $var[13] ;
                        //$x = ($pen_sum / $pro_sum) * 100 ;
                        $x = $pen_sum / 10 ;
                        echo number_format($x, 2)."%";
                }

                else{
                        $var = explode(",",$data[0]);
                        $sum = $var[0] + $var[3] + $var[6] + $var[9] + $var[12] ;
                        echo $sum;
                }
        }


        function ocr_neft_8apps(){
                //$data = file("../../Channels/ocr_neft_8apps.txt");
                $data = explode("\n", file_get_contents($this->currpath."ocr_neft_8apps.txt.".$this->datecrr));
                array_pop($data);
                //print_r($data[0]);
                //$data1=explode($data[0],",");
                //echo $sum=($data1[2]+$data1[3]+$data1[4]+$data1[5]+$data1[6]+$data1[7]+$data1[8]+$data1[9]+$data1[10]);


                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else{
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                $arr = array_sum($var);
                                $x = sizeof($var)-1;
                                if($line_num == 1){
                                        foreach ($var as $k3 => $v3) {
                                                if($k3 == '0'){
                                                        echo "<th  class='text-center'>".$v3."</th>";
                                                }
                                                elseif($k3 == $x) {
                                                        echo "<td  class='text-center'>".$v3."</td>";
                                                        //$k3=$k3+1;
                                                        $v3=$arr;
                                                        if($k3 == $x){
                                                                echo "<td  class='text-center'>".$v3."</td>";
                                                        }
                                                }
                                                elseif($v3 > 99) {
                                                        echo "<td  class='text-center' style='background-color:red;color:white;'><b>".$v3."</b></td>";
                                                }
                                                else {
                                                echo "<td  class='text-center'>".$v3."</td>";
                                                }
                                        }

                                }
                                else{
                                        foreach ($var as $k3 => $v3) {
                                                if($k3 == '0'){
                                                        echo "<th  class='text-center'>".$v3."</th>";
                                                }
                                                elseif($k3 == $x) {
                                                        echo "<td  class='text-center'>".$v3."</td>";
                                                        //$k3=$k3+1;
                                                        $v3=$arr;
                                                        if($k3 == $x){
                                                                echo "<td  class='text-center'>".$v3."</td>";
                                                        }
                                                }
                                                else {
                                                        echo "<td  class='text-center'>".$v3."</td>";
                                                }
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }

        function neft_incoming(){
                //$data = file("../../Channels/neft_incoming.txt");
                $data = explode("\n", file_get_contents($this->currpath."neft_incoming.txt.".$this->datecrr));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else{
                   $v = explode(",",$data[0]);
                   echo "<tr>";
                   echo "<td>$v[0]</td>";
                   echo "<td>$v[1]</td>";
                   echo "</tr>";
                }
        }

        function atmib(){
                $data = file($this->currpath."atmib.txt".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(" ",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                        echo "<td>".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }

        function grpt_statustotal(){
                $data = file("../../Channels/grpt_statustotal.txt");
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else{
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                $arr = array_sum($var);
                                $x = sizeof($var)-2;
                                foreach ($var as $k3 => $v3) {
                                        if($k3 == '0'){
                                                echo "<th  class='text-center'>".$v3."</th>";
                                        }
                                        elseif($k3 == ($x-1)) {
                                                echo "<td  class='text-center'>".$v3."</td>";
                                                $k3=$k3+1;
                                                $v3=$arr;
                                                if($k3 == $x){
                                                        echo "<td  class='text-center'>".$v3."</td>";
                                                }
                                        }
                                        else {
                                                echo "<td  class='text-center'>".$v3."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
}

Class bhaga extends datablank{
        function Pending_Files(){
                $data = count(file("../../BhagaMonitor/Pending_Files_txt"));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                echo $data;
        }
        function INCOMPLETE_FILES(){
                $data= count(file("../../BhagaMonitor/INCOMPLETE_FILES.txt"));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                echo $data;
        }
        function InvalidFiles(){
                $data= count(file("../../BhagaMonitor/InvalidFiles.txt"));
                echo $data;
        }
        function COMPLETE_FILES(){
                $data = count(file("../../BhagaMonitor/COMPLETE_FILES.txt"));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                echo $data;
        }
        function proc_stat(){
                $data = file("../../BhagaMonitor/proc_stat.txt");
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                        echo "<td  class='text-left' >".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
        function bhagaPwd_stat(){
                $data = file("../../BhagaMonitor/bhagaPwd_stat.txt");
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                        echo "<td  class='text-left'>".$v3."</td>";
                        }
                        echo "</tr>";
                }
        }
}

class applnMonitor extends datablank{
        public function __construct()
        {
                $this->getDDcrr = $_GET['date'];
                $this->singlepath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/";
                $this->mflag = trim(file_get_contents($this->singlepath."MFLAGS_D"));
                if(empty($this->getDDcrr)){
                        //$this->datecrr = date("Ymd");
                        $this->datecrr = $this->mflag;
                }
                else{
                        $this->datecrr = $this->getDDcrr;
                }
                $this->dateyear=trim(substr($this->datecrr,0,4));
                $this->dateyearmonth=trim(substr($this->datecrr,0,6));
                if($this->datecrr != $this->mflag){
                        $this->currpath = $this->singlepath.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
                }
                else{
                        $this->currpath = $this->singlepath;
                }
        }

        /*function gateway(){
        //$data = file("../../ApplnMonitor/gateway.txt_8app.txt");
        $data = explode("\n", trim(file_get_contents($this->currpath."gateway.txt_8app.".$this->datecrr)));
        $datayono = file($this->currpath."gateway_yono.txt_8app.".$this->datecrr);
        $data1 = array_pad(explode("\n", trim(file_get_contents($this->singlepath."Server_Status.txt"))),9,0);
        //Also array fill(position,9-postion can be used,0) cab be used
        $data2 = trim(file_get_contents($this->currpath."onl_re_status.txt_".$this->datecrr));
        $dataserver='Connectivity,'.implode(",",$data1);
        $checkrc='Misc Job,'.$data2;
        $serverarray = array('m','s1','s2','s3','s4','s5','s6','s7','s8');
        array_pop($data);
        $data=array_merge($data,$datayono);
        array_push($data,$dataserver,$checkrc);
        //array_push($data,$checkrc);
        //print_r($data);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                $vall = strtoupper(trim($v3));
                                $linkRC="window.open('checkrc.php?servername=".$serverarray[$k3-1]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                if($var[0]=='MR Gateway'){
                                        $linkTCP="window.open('maxtcp.php?servername=".$serverarray[$k3-1]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                }
                                else{
                                        $linkTCP="";
                                }
                                if($k3 == '0'){
                                        $gatewaytype=explode(" ",$v3);
                                        $link="window.open('gatewaymore.php?type=".$gatewaytype[0]."&&date=".$_GET['date']."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                        echo "<th><a onclick=$link>".$v3."</a></th>";
                                }
                                elseif($k3 > '0' &&  $vall == 'RUNNING') {
                                        echo "<td style='color:white;color:green;' onclick=$linkTCP><i class='fa fa-check'></i></td>";
                                }
                                //remove
                                elseif($k3 > '0' &&  $vall == 'MAXTCP') {
                                        echo "<td onclick=$linkTCP><i style='color:red;'class='fa fa-bolt'></i></td>";
                                }
                                elseif($k3 > '0' &&  $vall == 'NOT RUNNING') {
                                        echo "<td class='glow' style='color:white;background-color:red;' onclick=$linkTCP><i class='fa fa-close'></i></td>";
                                }
                                 elseif($k3 > '0' &&  stristr($vall,'NOT UPDATING')){
                                        echo "<td style='color:#f39c12;'><i class='fa fa-fw fa-warning'></i></td>";
                                }
                                 elseif($k3 > '0' &&  stristr($vall, 'RC RUNNING')){
                                        echo "<td class='glow' style='color:white;background-color:red;' onclick=$linkRC>".$vall."</td>";
                                }
                                 elseif($k3 > '0' &&  stristr($vall, 'ERROR')){
                                        echo "<td class='glow' style='color:white;background-color:red;'>ERROR</td>";
                                }
                                 elseif($k3 > '0' &&  stristr($vall, 'NO TXN')) {
                                        echo "<td class='glow' style='color:white;background-color:red;'><i class='fa fa-exclamation'></td>";
                                }
                                 elseif($k3 > '0' &&  stristr($vall, 'UTP TXN')) {
                                        echo "<td  style='color:white;'><i title='To check if it is false or not goto monitorp/pace and fire utptxn.sh <gateway_name -- b24|atm|mr|inb>' class='fa fa-bell' style='color:red;'></td>";
                                }
                                 elseif($k3 > '0' &&  stristr($vall, 'TIMESTAMP FREEZED')) {
                                        echo "<td class='glow' style='color:white;background-color:red;'><i class='fa fa-ban'></td>";
                                }
                                elseif($k3 > '0' &&  stristr($vall, 'ABORT')) {
                                        echo "<td class='glow' style='color:white;background-color:red;'>".$vall."</td>";
                                }
                                elseif($k3 > '0' &&  $vall == 'NO CHECK RC') {
                                        echo "<td style='color:white;background-color:green;'>".$vall."</td>";
                                }
                                elseif($k3 > '0' &&  $vall == 'NA') {
                                        echo "<td style='color:black;'><i class='fa fa-minus'></i></td>";
                                }
                                elseif($line_num == 16 &&  trim($vall) == 'Y') {
                                        echo "<td title='Server Up' style='color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 16 &&  trim($vall) == 'N') {
                                        echo "<td class='glow'><i class='fa fa-fw fa-close'></i></td>";
                                }
                                elseif($line_num == 16 &&  trim($var[$k3]) == 0) {
                                        echo "<td><i title='Not updating' style='color:#f39c12;' class='fa fa-fw fa-warning'></i></td>";
                                }
                                elseif($line_num == 16 &&  trim($vall) == 0){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link title='".$vall."' style='cursor:pointer;color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 16 && trim($vall) > 0){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link style='cursor:pointer;' class='glow text-center' title='".$vall."'><i style='color:white;' class='fa fa-fw fa-close'></i></td>";
                                }
                                elseif($line_num == 16 && trim($vall)== -1){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link style='cursor:pointer;' class='text-center' title='".$vall."'><i style='color:#f39c12;' class='fa fa-fw fa-warning'></i></td>";
                                }
                                else{
                                        echo "<td>".$vall."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }*/

        //Original JOBS Table

        function gateway(){
        //$data = file("../../ApplnMonitor/gateway.txt_8app.txt");
        //ls gateway_*.txt.20210219|grep -v yono|sort|xargs paste -d ','
        $data = explode("\n", trim(file_get_contents($this->currpath."gateway.txt_8app.".$this->datecrr)));
      //  $data1 = explode("\n", file_get_contents($this->currpath."status_queue_8app.txt_prasad"));
        #$data = explode("\n", trim(file_get_contents($this->currpath."gateway.txt_8app.20231218")));
        //$data = explode("\n", trim(shell_exec("ls ".$this->currpath."gateway_*.txt.".$this->datecrr."|grep -v yono|sort|xargs paste -d ','")));
        $datayono = file($this->currpath."gateway_yono.txt_8app.".$this->datecrr);
        //$datayono = explode("\n", trim(shell_exec("ls ".$this->currpath."gateway_*.txt.".$this->datecrr."|grep yono|sort|xargs paste -d ','")));
        $data1 = array_pad(explode("\n", trim(file_get_contents($this->singlepath."Server_Status.txt"))),9,0);
        //Also array fill(position,9-postion can be used,0) cab be used
        $data2 = trim(file_get_contents($this->currpath."onl_re_status.txt_".$this->datecrr));

        #$data2 = trim(file_get_contents($this->currpath."onl_re_status_bkp.txt"));
        $dataserver='Connectivity,'.implode(",",$data1);
        $checkrc='Misc Job,'.$data2;
        $serverarray = array('job name','m','s1','s2','s3','s4','s5','s6','s7','s8','s9','s10','s11','s12','s13','s14','s15');
        array_pop($data);
        $data=array_merge($data,$datayono);
        array_push($data,$dataserver,$checkrc);
        //print_r($data);
                if(parent::checkblank($data)){echo parent::checkblank($data);}
                foreach ($data as $line_num => $line){
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3){
                                $vall = strtoupper(trim($v3));
                                $linkRC="window.open('checkrc.php?servername=".$serverarray[$k3]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                if($var[0]=='MR Gateway'){
                                        $linkTCP="window.open('maxtcp.php?servername=".$serverarray[$k3]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                }
                                else{
                                        $linkTCP="";
                                }
                                if($k3 == '0'){
                                        $gateway_type=explode(" ",$v3);
                                        $link="window.open('gatewaymore.php?type=".$gateway_type[0]."&&date=".$_GET['date']."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                        echo "<th><a onclick=$link>".$v3."</a></th>";
                                }
                                elseif($var[0]=="TF Gateway" && $k3!=3 ){
                                        echo "<td style='color:black;'><i class='fa fa-minus'></i></td>";
                                }
                                elseif($k3 > '0' && $vall == 'RUNNING') {
                                        echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                                }
                                //remove
                                elseif($k3 > '0' && $vall == 'MAXTCP') {
                                        echo "<td><i style='color:red;'class='fa fa-bolt'></i></td>";
                                }
                                elseif($k3 > '0' && $vall == 'NOT RUNNING') {
                                        //echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                                        //echo "<td class='glow' style='color:white;' onclick=$linkTCP><i class='fa fa-close'></i></td>";
                                        echo "<td onclick=$linkTCP><i class='fa fa-close' style='color:red;'></i></td>";
                                }
                                elseif($k3 > '0' && stristr($vall,'NOT UPDATING')) {
                                        echo "<td style='color:#f39c12;'><i class='fa fa-fw fa-warning'></i></td>";
                                        //echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                                }
                                elseif($k3 > '0' && $vall == 'NOT ENCRYPTED') {
                                        echo "<td style='color:navy;'><i class='fa fa-fw fa-chain-broken'></i></td>";

                                }
                                elseif($k3 > '0' && $vall == 'RC RUNNING') {
                                        echo "<td class='glow' style='color:white;' onclick=$linkRC>Check RC</td>";
                                       // echo "<td style='color:#fff;background-color:#38ada9;'>NONE</td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'ERROR')) {
                                        echo "<td class='glow' date-toggle='tooltip' style='color:white;' title='$vall'>ERROR</td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'NO TXN')) {
                                        echo "<td class='glow' date-toggle='tooltip' title='$vall'><i class='fa fa-exclamation'></td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'UTP TXN')) {
                                        echo "<td  style='color:white;'><i title='To check if it is false or not goto monitorp/pace and fire utptxn.sh <gateway_name -- b24|atm|mr|inb>' class='fa fa-bell' style='color:red;'></td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'TIMESTAMP FREEZED')) {
                                        echo "<td class='glow' date-toggle='tooltip' title='$vall' style='color:white;'><i class='fa fa-ban'></td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'ABORT')) {
                                        echo "<td class='glow' date-toggle='tooltip' title='$vall' style='color:white;'>".$vall."</td>";
                                }
                                elseif($k3 > '0' && $vall == 'NO CHECK RC') {
                                        echo "<td style='color:#fff;background-color:#38ada9;'>NONE</td>";
                                }
                                elseif($k3 > '0' && ($vall == 'NA'||$vall == "SUNDAY")) {
                                        echo "<td style='color:black;'><i class='fa fa-minus'></i></td>";
                                }
                                elseif($line_num == 16 && trim($vall) == 'Y') {
                                        echo "<td title='Server Up' style='color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 16 && trim($vall) == 'N') {
                                        echo "<td class='glow'><i class='fa fa-fw fa-close'></i></td>";
                                }
                                elseif($line_num == 16 && trim($var[$k3]) == 0) {
                                        echo "<td><i title='Not updating' style='color:#f39c12;' class='fa fa-fw fa-warning'></i></td>";
                                }
                                /*To be removed on 16-12-2020 7pm(below else if loop.If not removed severe consequnces)
                                elseif($line_num == 17){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link title='".$vall."' style='cursor:pointer;color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                //Remove upper part  !!!!*/
                                elseif($line_num == 17 && trim($vall) == 0){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        //echo "<td onclick=$link title='".$vall."' style='cursor:pointer;color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                        echo "<td title='Server Up' style='color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 17 && trim($vall) > 0){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link style='cursor:pointer;' class='glow text-center' title='".$vall."'><i style='color:white;' class='fa fa-fw fa-close'></i></td>";
                                        //echo "<td onclick=$link style='cursor:pointer;' class='text-center' title='".$vall."'><i style='color:green;' class='fa fa-fw fa-close'></i></td>";
                                        //echo "<td title='Server Up' style='color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 17 && trim($vall)== -1){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link style='cursor:pointer;' class='text-center' title='".$vall."'><i style='color:#f39c12;' class='fa fa-fw fa-warning'></i></td>";
                                }elseif($line_num == 11 && strpos(trim($vall),":")){
                                        $removeColon = str_replace(":","",trim($vall));
                                        $removeColonTime = strtotime($removeColon);
                                        $currtime=strtotime(date("Ymd Hi"));
                                        $difftime=$currtime-$removeColonTime;
                                        if(intval($difftime)>600){
                                        echo "<td style='background-color:#EAB543;color:#000'>".trim($vall)."</td>";
                                        }
                                        else{
                                        echo "<td style='color:#000'>".trim($vall)."</td>";
                                        }
                                }
                                else{
                                        echo "<td>".trim($vall)."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }


        function gateway1(){
        //$data = file("../../ApplnMonitor/gateway.txt_8app.txt");
        //ls gateway_*.txt.20210219|grep -v yono|sort|xargs paste -d ','
        $data = explode("\n", trim(file_get_contents($this->currpath."gateway_false.txt_8app")));
        //$data = explode("\n", trim(shell_exec("ls ".$this->currpath."gateway_*.txt.".$this->datecrr."|grep -v yono|sort|xargs paste -d ','")));
        $datayono = file($this->currpath."gateway_yono.txt_8app.".$this->datecrr);
        //$datayono = explode("\n", trim(shell_exec("ls ".$this->currpath."gateway_*.txt.".$this->datecrr."|grep yono|sort|xargs paste -d ','")));
        $data1 = array_pad(explode("\n", trim(file_get_contents($this->singlepath."Server_Status.txt"))),9,0);
        //Also array fill(position,9-postion can be used,0) cab be used
        $data2 = trim(file_get_contents($this->currpath."onl_re_status.txt_".$this->datecrr));
        //$data2 = trim(file_get_contents($this->currpath."onl_re_status_bkp.txt"));
        $dataserver='Connectivity,'.implode(",",$data1);
        $checkrc='Misc Job,'.$data2;
        $serverarray = array('m','s1','s2','s3','s4','s5','s6','s7','s8','s9','s10','s11');
        array_pop($data);
        $data=array_merge($data,$datayono);
        array_push($data,$dataserver,$checkrc);
        //print_r($data);
                if(parent::checkblank($data)){echo parent::checkblank($data);}
                foreach ($data as $line_num => $line){
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3){
                                $vall = strtoupper(trim($v3));
                                $linkRC="window.open('checkrc.php?servername=".$serverarray[$k3-1]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                if($var[0]=='MR Gateway'){
                                        $linkTCP="window.open('maxtcp.php?servername=".$serverarray[$k3-1]."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                }
                                else{
                                        $linkTCP="";
                                }
                                if($k3 == '0'){
                                        $gateway_type=explode(" ",$v3);
                                        $link="window.open('gatewaymore.php?type=".$gateway_type[0]."&&date=".$_GET['date']."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                        echo "<th><a onclick=$link>".$v3."</a></th>";
                                }
                                elseif($var[0]=="TF Gateway" && $k3!=3 ){
                                        echo "<td style='color:black;'><i class='fa fa-minus'></i></td>";
                                }
                                elseif($k3 > '0' && $vall == 'RUNNING') {
                                        echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                                }
                                //remove
                                elseif($k3 > '0' && $vall == 'MAXTCP') {
                                        echo "<td><i style='color:red;'class='fa fa-bolt'></i></td>";
                                }
                                elseif($k3 > '0' && $vall == 'NOT RUNNING') {
                                        //echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                                        //echo "<td class='glow' style='color:white;' onclick=$linkTCP><i class='fa fa-close'></i></td>";
                                        echo "<td onclick=$linkTCP><i class='fa fa-close' style='color:red;'></i></td>";
                                }
                                elseif($k3 > '0' && stristr($vall,'NOT UPDATING')) {
                                        echo "<td style='color:#f39c12;'><i class='fa fa-fw fa-warning'></i></td>";
                                        //echo "<td style='color:green;'><i class='fa fa-check'></i></td>";
                                }
                                elseif($k3 > '0' && $vall == 'NOT ENCRYPTED') {
                                        echo "<td style='color:navy;'><i class='fa fa-fw fa-chain-broken'></i></td>";
                                }
                                elseif($k3 > '0' && $vall == 'RC RUNNING') {
                                        echo "<td class='glow' style='color:white;' onclick=$linkRC>Check RC</td>";
                                        //echo "<td style='color:#fff;background-color:#38ada9;'>NONE</td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'ERROR')) {
                                        echo "<td class='glow' date-toggle='tooltip' style='color:white;' title='$vall'>ERROR</td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'NO TXN')) {
                                        echo "<td class='glow' date-toggle='tooltip' title='$vall'><i class='fa fa-exclamation'></td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'UTP TXN')) {
                                        echo "<td  style='color:white;'><i title='To check if it is false or not goto monitorp/pace and fire utptxn.sh <gateway_name -- b24|atm|mr|inb>' class='fa fa-bell' style='color:red;'></td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'TIMESTAMP FREEZED')) {
                                        echo "<td class='glow' date-toggle='tooltip' title='$vall' style='color:white;'><i class='fa fa-ban'></td>";
                                }
                                elseif($k3 > '0' && stristr($vall, 'ABORT')) {
                                        echo "<td class='glow' date-toggle='tooltip' title='$vall' style='color:white;'>".$vall."</td>";
                                }
                                elseif($k3 > '0' && $vall == 'NO CHECK RC') {
                                        echo "<td style='color:#fff;background-color:#38ada9;'>NONE</td>";
                                }
                                elseif($k3 > '0' && ($vall == 'NA'||$vall == "SUNDAY")) {
                                        echo "<td style='color:black;'><i class='fa fa-minus'></i></td>";
                                }
                                elseif($line_num == 16 && trim($vall) == 'Y') {
                                        echo "<td title='Server Up' style='color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 16 && trim($vall) == 'N') {
                                        echo "<td class='glow'><i class='fa fa-fw fa-close'></i></td>";
                                }
                                elseif($line_num == 16 && trim($var[$k3]) == 0) {
                                        echo "<td><i title='Not updating' style='color:#f39c12;' class='fa fa-fw fa-warning'></i></td>";
                                }
                                /*To be removed on 16-12-2020 7pm(below else if loop.If not removed severe consequnces)
                                elseif($line_num == 17){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link title='".$vall."' style='cursor:pointer;color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                //Remove upper part  !!!!*/
                                elseif($line_num == 17 && trim($vall) == 0){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        //echo "<td onclick=$link title='".$vall."' style='cursor:pointer;color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                        echo "<td title='Server Up' style='color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 17 && trim($vall) > 0){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link style='cursor:pointer;' class='glow text-center' title='".$vall."'><i style='color:white;' class='fa fa-fw fa-close'></i></td>";
                                        //echo "<td onclick=$link style='cursor:pointer;' class='text-center' title='".$vall."'><i style='color:green;' class='fa fa-fw fa-close'></i></td>";
                                        //echo "<td title='Server Up' style='color:green;'><i class='fa fa-fw fa-check'></i></td>";
                                }
                                elseif($line_num == 17 && trim($vall)== -1){
                                        $link="window.open('rcdetails.php?servername=".$serverarray[$k3-1]."','','height=800,width=600,scrollbars=yes,resizable=yes');";
                                        echo "<td onclick=$link style='cursor:pointer;' class='text-center' title='".$vall."'><i style='color:#f39c12;' class='fa fa-fw fa-warning'></i></td>";
                                }elseif($line_num == 11 && strpos(trim($vall),":")){
                                        $removeColon = str_replace(":","",trim($vall));
                                        $removeColonTime = strtotime($removeColon);
                                        $currtime=strtotime(date("Ymd Hi"));
                                        $difftime=$currtime-$removeColonTime;
                                        if(intval($difftime)>600){
                                        echo "<td style='background-color:#EAB543;color:#000'>".trim($vall)."</td>";
                                        }
                                        else{
                                        echo "<td style='color:#000'>".trim($vall)."</td>";
                                        }
                                }
                                else{
                                        echo "<td>".trim($vall)."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }


        function throwRed($dataArr,$param){
                $temp = array(); $g = array();
                for($i=0;$i<(count($dataArr)-1);$i++){
                        $y = explode($param,$dataArr[$i]);array_shift($y);rsort($y);
                        if($y[0] > 0 || $y[0] < 0 ){
                                $temp[] = $dataArr[$i];
                        }
                        else{
                                $g[] = $dataArr[$i];
                        }
                }
                return array_merge($temp,$g);
        }
        //----original Queue Buildup----
        function status_queue(){
        //      $data = file("../../ApplnMonitor/status_queue_8app.txt");
                $data1 = explode("\n", str_replace("NQKE","-1",shell_exec("cat ".$this->currpath."status_queue_8app.txt.".$this->datecrr."|grep -v VV3Q")));
        //      $data1 = explode("\n", file_get_contents($this->currpath."status_queue_8app.txt_prasad"));
                if(parent::checkblank($data1)){ echo parent::checkblank($data1);}
                $data = $this->throwRed($data1,',');
                foreach ($data as $key2 => $value2){
                        $queueArray = explode(",",$value2);
                        echo "<tr>";
                        foreach ($queueArray as $k2 => $v2){
                                /*if($queueArray[0]=='GLAQ'){
                                        if($k2 == '0'){
                                                $linkreplica="window.open('queuereplica.php?queue=".urlencode($v2)."&&date=".$this->datecrr."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                                echo "<th><a onclick=$linkreplica>".$v2."</a></th>";
                                        }
                                        elseif($k2 > '0' && $v2 >= '1' && $v2 < '1000'){
                                                echo "<td date-toggle='tooltip' title='$v2'>0</td>";
                                        }
                                        elseif($k2 > '0' && $v2 >= '1000'){
                                                echo "<td style='color:white;background-color:red;'>".$v2."</td>";
                                        }
                                        else{
                                                echo "<td>".$v2."</td>";
                                        }
                                }
                                else{*/
                                        if($k2 == '0'){
                                                $linkreplica="window.open('queuereplica.php?queue=".urlencode($v2)."&&date=".$this->datecrr."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                                echo "<th><a onclick=$linkreplica>".$v2."</a></th>";
                                        }
                                        elseif($v2 == 'NQKE' ||  $v2 == -1){
                                                echo "<td><i style='color:red' class='fa fa-thumbs-down'></i></td>";
                                        }
                                        elseif($k2 > '0' && $v2 >= '1' && $v2 < '100'){
                                                echo "<td title='$v2'>0</td>";
                                        }
                                        elseif($k2 > '0' && $v2 >= '100' && $v2 < '500'){
                                                echo "<td title='$v2'>0</td>";
                                        }
                                        elseif($k2 > '0' && $v2 >= '500'){
                                                echo "<td class='bg-red-active'>".$v2."</td>";
                                        }
                                        else{
                                                echo "<td>".$v2."</td>";
                                        }
                                //}

                        }
                        echo "</tr>";
                }
        }
        function status_queue1(){
                //$data = file("../../ApplnMonitor/status_queue_8app.txt");
                $data1 = explode("\n", file_get_contents($this->currpath."status_queue_8app.txt.".$this->datecrr));
                //$data1 = explode("\n", file_get_contents($this->currpath."status_queue_8app.txt.".$this->datecrr));
                if(parent::checkblank($data1)){ echo parent::checkblank($data1);}
                $data = $this->throwRed($data1,',');
                foreach ($data as $key2 => $value2) {
                        $queueArray = explode(",",$value2);
                        echo "<tr>";
                        foreach ($queueArray as $k2 => $v2) {
                                if($k2 == '0'){
                                        $linkreplica="window.open('queuereplica.php?queue=".urlencode($v2)."&&date=".$this->datecrr."','','height=800,width=1400,scrollbars=yes,resizable=yes');";
                                        echo "<th><a onclick=$linkreplica>".$v2."</a></th>";
                                }
                                else {
                                        echo "<td class=''>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        //added on 20190312 **start**
        function CBS_CPU_DATA(){
                $data1 = explode("\n",shell_exec("cat ".$this->currpath."CBS_CPU_DATA*".$this->datecrr."*"));
                array_pop($data1);
                if(parent::checkblank($data1)){ echo parent::checkblank($data1);}
                foreach ($data1 as $key2 => $value2) {
                        $vare = explode("|",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                elseif($k2==2 && $v2 > 40){
                                        echo "<td  class='text-center' style='color:white;background-color:#db0b3d;'>".$v2."</td>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function CBS_TB_DATA(){
                $data1 = explode("\n",shell_exec("cat ".$this->currpath."CBS_TB_DATA*".$this->datecrr."*"));
                array_pop($data1);
                if(parent::checkblank($data1)){ echo parent::checkblank($data1);}
                foreach ($data1 as $key2 => $value2) {
                        $vare = explode("|",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                elseif($k2 == '4' &&  $v2 >= '85' ) {
                                        echo "<td style='color:white;background-color:#db0b3d;'>".$v2."</td>";
                                }
                                elseif($k2 == '5' &&  $v2 > 0 ) {
                                        echo "<td><i class='bg-green fa fa-chevron-up'></i>".abs($v2)."</td>";
                                }
                                elseif($k2 == '5' &&  $v2 < 0 ) {
                                        echo "<td><i class='bg-red fa fa-chevron-down'></i>".abs($v2)."</td>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        //added on 20190312 **start**---fake--
        /*function status_queue(){
                //$data1 = explode("\n", file_get_contents($this->currpath."status_queue_8app1.txt.".$this->datecrr));
                $data1 = explode("\n", file_get_contents("/opt/hpws/apache/htdocs/pace/ApplnMonitor/status_queue_8app.txt.bck"));
                if(parent::checkblank($data1)){ echo parent::checkblank($data1);}
                $data = $this->throwRed($data1,',');
                foreach ($data as $key2 => $value2) {
                        $vare = explode(",",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                elseif($v2 == 'NQKE') {
                                        echo "<td>".$v2."</td>";
                                }
                                elseif($k2 > '0' &&  $v2 >= '1') {
                                        echo "<td style='background-color:red;'>".$v2."</td>";
                                }

                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }       */
        function nr_queue_status(){
                $data1 = explode("\n", file_get_contents($this->currpath."queue_buildup_nr_9app.txt.".$this->datecrr));
                //$data1 = explode("\n", file_get_contents("/opt/hpws/apache/htdocs/pace/ApplnMonitor/status_queue_8app.txt.bck"));
                if(parent::checkblank($data1)){ echo parent::checkblank($data1);}
                $data = $this->throwRed($data1,',');
                foreach ($data as $key2 => $value2) {
                        $vare = explode(",",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                elseif($v2 == 'NQKE') {
                                        echo "<td>".$v2."</td>";
                                }
                                elseif($k2 > '0' &&  $v2 >= '1' &&  $v2 < '40') {
                                        echo "<td style='color:white;background-color:#db8b0b;'>".$v2."</td>";
                                }
                                elseif($k2 > '0' &&  $v2 >= '40') {
                                        echo "<td style='color:white;background-color:red;'>".$v2."</td>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
}

/*class eod extends datablank{
        private $datecrr;
        public function __construct()
                {
                $this->getDDcrr = $_GET['date'];
                $this->singlepath = "/opt/hpws/apache/cgi-bin/trials/bip/data/EOD/";
                $this->mflag = trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/MFLAGS_D"));
                if(empty($this->getDDcrr)){
                        //$this->datecrr = date("Ymd");
                        $this->datecrr = $mflag;
                }
                else{
                        $this->datecrr = $this->getDDcrr;
                }
                $this->dateyear=trim(substr($this->datecrr,0,4));
                $this->dateyearmonth=trim(substr($this->datecrr,0,6));
                $this->currpatheod = $this->singlepath.$this->dateyear."/".$this->dateyearmonth."/".$this->datecrr."/";
        }
        function gateway_queue(){
        $data = explode("\n", file_get_contents($this->currpatheod."gateway_night_9apps.txt.".$this->datecrr));
        //$data = file("../../EOD/gateway_night_9apps.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $line_num => $line) {
                        $var = explode(",",$line);
                        echo "<tr>";
                        foreach ($var as $k3 => $v3) {
                                $vall = trim($v3);
                                if($k3 == '0'){
                                        echo "<th>".$v3."</th>";
                                }
                                elseif($k3 > '0' &&  $vall == 'RUNNING') {
                                        echo "<td class='text-center' style='color:green;'><i class='fa fa-check'></i></td>";
                                }
                                elseif($k3 > '0' &&  $vall == 'NOT RUNNING') {
                                        echo "<td class='text-center' style='background-color:red;'><i class='fa fa-close'></i></td>";
                                }
                                 elseif($k3 > '0' &&  $vall == 'NOT UPDATING') {
                                                echo "<td class='text-center' style='color:#f39c12;'><i class='fa fa-fw fa-warning'></i></td>";
                                }
                                else {
                                        echo "<td class='text-center' >".$vall."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }

        function space_utiliztion(){
                $data = explode("\n", file_get_contents($this->currpatheod."space_9apps.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(" ",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th class='text-center'>".$v2."</th>";
                                }
                                else {
                                        echo "<td class='text-center'>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function night_queue(){
                $data = explode("\n", file_get_contents($this->currpatheod."status_queue_9apps.txt.".$this->datecrr));
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(",",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th class='text-center'>".$v2."</th>";
                                }
                                elseif($k2 > '0' &&  $v2 >= '1' && trim($v2) != 'NQKE') {
                                        echo "<td class='text-center' style='background-color:red;'>".$v2."</td>";
                                }
                                else {
                                        echo "<td class='text-center'>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function injobs(){
                $data = explode("\n", file_get_contents($this->currpatheod."IN0800_details_9apps.txt.".$this->datecrr));
                //$data = file("../../EOD/IN0800_details_9apps.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(",",$value2);
                        array_pop($vare);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function brjobs(){
                $data = explode("\n", file_get_contents($this->currpatheod."BR0501_details_9apps.txt.".$this->datecrr));
                //$data = file("../../EOD/BR0501_details_9apps.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(",",$value2);
                        array_pop($vare);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function impjobs(){
                $data = explode("\n", file_get_contents($this->currpatheod."eod_imp_9apps.txt.".$this->datecrr));
                //$data = file("../../EOD/eod_imp_9apps.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(":",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                elseif($k2 > '0' &&  trim($v2) == 'Success') {
                                        echo "<td style='border:2px solid green;'>".$v2."</td>";
                                }
                                elseif(trim($v2) == 'Ended with RC') {
                                        echo "<td style='border:2px solid red;background-color:red;'>".$v2."</td>";
                                }

                                else {
                                        echo "<td style='border:2px solid black;'>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function neerajobs(){
                $data = explode("\n", file_get_contents($this->currpatheod."single_job_stat.txt.".$this->datecrr));
                //$data = file("../../EOD/single_job_stat.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(":",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function multistream(){
                $data = explode("\n", file_get_contents($this->currpatheod."multi_job_stat.txt.".$this->datecrr));
                //$data = file("../../EOD/multi_job_stat.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(":",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function neera_space(){
                $data = explode("\n", file_get_contents($this->currpatheod."space_neera.txt.".$this->datecrr));
                //$data = file("../../EOD/space_neera.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(",",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }
        function neera_server(){
                $data = explode("\n", file_get_contents($this->currpatheod."err_conn.txt.".$this->datecrr));
                //$data = file("../../EOD/err_conn.txt.".$this->datecrr);
                if(parent::checkblank($data)){ echo parent::checkblank($data);}
                foreach ($data as $key2 => $value2) {
                        $vare = explode(",",$value2);
                        echo "<tr>";
                        foreach ($vare as $k2 => $v2) {
                                if($k2 == '0'){
                                        echo "<th>".$v2."</th>";
                                }
                                else {
                                        echo "<td>".$v2."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }

}*/

// changes upto here -------
        class timedisplay{
                public static function dateUp(){
                        $getDDcrr = $_GET['date'];
                        $mflag = trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/MFLAGS_D"));
                        if(empty($getDDcrr) && $getDDcrr == ''){
                                //$datecrr = date("Ymd");
                                $datecrr = $mflag;
                        }
                        else{
                                $datecrr = $getDDcrr;
                        }
                        return $datecrr;
                }
                public static function timeUpdated($flag,$param){
                        $vay = self::dateUp();
                        $x = ($param != 'OutDate') ? "ls -lrt ".$flag.$param.$vay." | awk '{ print $7,$6,$8 }'" : "ls -lrt ".$flag." | awk '{ print $7,$6,$8 }'";
                        $file=shell_exec($x);
                        return trim($file);
                }
                public static function pathgiver(){
                        $getDDcrr = $_GET['date'];
                        $singlepath = "/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/";
                        $mflag = trim(file_get_contents($singlepath."MFLAGS_D"));
                        if(empty($getDDcrr)){
                                //$this->datecrr = date("Ymd");
                                $datecrr = $mflag;
                        }
                        else{
                                $datecrr = $getDDcrr;
                        }
                        $dateyear=trim(substr($datecrr,0,4));
                        $dateyearmonth=trim(substr($datecrr,0,6));
                        //$currpath = $singlepath.$dateyear."/".$dateyearmonth."/".$datecrr."/";
                        if($datecrr != $mflag){
                                $currpath = $singlepath.$dateyear."/".$dateyearmonth."/".$datecrr."/";
                        }
                        else{
                                $currpath = $singlepath;
                        }
                        return $currpath;
                }
        }

class msl extends timedisplay{
        function sy1000(){
                if(file_exists(timedisplay::pathgiver()."online.txt.".timedisplay::dateUp()))
                {
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."online.txt.".timedisplay::dateUp()));
                //if(parent::checkblank($data)){ echo parent::checkblank($data);}
                        if(count($data) == '0'){
                                echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                        }
                        else {
                                foreach ($data as $line_num => $line) {
                                        $var = explode(" ",$line);
                                        echo "<tr>";
                                        foreach ($var as $k3 => $v3) {
                                                $vall = trim($v3);
                                                if($k3 == '0' && $vall != ''){
                                                        echo "<th class='text-center'>".$v3."</th>";
                                                }
                                                elseif($k3 == '2' && $vall != ''){
                                                        echo "<td class='text-center' style='color:red;'>".$vall."</td>";
                                                }
                                                elseif($vall != '') {
                                                        echo "<td class='text-center'>".$vall."</td>";
                                                }
                                        }
                                        echo "</tr>";
                                }
                        }
                }
                else
                {
                        echo "<tr><th colspan='3'><span class='btn btn-warning'>File Not Present !</span></th></tr>";
                }
        }
        function sy2005(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."online_count.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($k3 == '2' && $vall != ''){
                                                echo "<td class='text-center' style='color:red;'>".$vall."</td>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
        function si_run(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."rr_stat_8apps.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(" ",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 > '0' && $k3 < '9' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }

                                }
                                echo "</tr>";
                        }
                }
        }
        function ora_pace(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."ora_pace_8apps.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(" ",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function nsbl_stat(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."nsbl_status_8apps.txt.".timedisplay::dateUp()));
                array_pop($data);
                $y = sizeof($data)-1;
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                $x = sizeof($var);
                                $arr = array_sum($var);
                                foreach ($var as $k3 => $v3) {
                                        //$vall = trim($v3);
                                        if($k3 == '0'){
                                                echo "<th  class='text-center'>".$v3."</th>";
                                        }
                                        elseif($k3 == ($x-1)) {
                                                echo "<td  class='text-center' >".$v3."</td>";
                                                $k3=$k3+1;
                                                $v3=$arr;
                                                if($k3 == $x && $line_num < $y){
                                                        echo "<td  class='text-center'>".$v3."</td>";
                                                }
                                                elseif($line_num == $y){
                                                        echo "<td  class='text-center'>NA</td>";
                                                }
                                        }
                                        else {
                                                echo "<td  class='text-center' >".$v3."</td>";
                                        }

                                }
                                echo "</tr>";
                        }
                }
        }

        function inb_stat(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."ftp_inb.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function shower_feed_re(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."region_up_status.txt"));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(" ",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function shower_feed__stat(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."showerfeed.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(" ",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        public static function tps_break($flag){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."tps_breakup_8apps.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        $v = explode(",",$data[0]);
                        return trim($v[$flag]);
                }
        }
        public static function nr_tps_break($flag){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."tps_breakup_8apps_nr.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        $v = explode(",",$data[0]);
                        return trim($v[$flag]);
                }
        }

        function prod_day(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."summaryfile_slave3.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(";",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function rtgs_prod_day($x,$u){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."summaryfile_master.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(";",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if( $k3  >= $x || $k3 == '0'){
                                                if($k3 == '0' && $vall != ''){
                                                        echo "<th>".$v3."</th>";
                                                }
                                                elseif($vall != '') {
                                                        echo "<td class='text-center' >".$vall."</td>";
                                                }
                                        }
                                        if($k3  == $u ){ break; }
                                }
                                echo "</tr>";
                        }
                }
        }
        function  brn_prod_day(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."summaryfile_slave2.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(";",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }


        function  branch_teller_interval(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."branch_teller_interval.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                //print_r($var);
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }




        function finance_status(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."summaryfile_slave2.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(";",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function finance_glif_load(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."check_glifload.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function AD0000(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."SY0000.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(":",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($vall != '') {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function backdated(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."SY3000_8apps.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }

        public static function mithi_space(){
                $mithi_mountpoint=file("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/MITHI/mithi_mountpoint_space.txt");
                foreach ($mithi_mountpoint as $line_num => $line1) {
                        $varmount = explode(",",$line1);
                        echo "<tr>";
                        foreach ($varmount as $k3 => $v3) {
                                if($k3 != 0 && $v3 > 80){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-red progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."%</div></td>";
                                }
                                else if($k3 != 0 && $v3 < 80){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-green progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."%</div></td>";
                                }
                                else{
                                        echo "<td class='text-center'>".$v3."%</td>";
                                }

                        }
                        echo "</tr>";
                }
        }

        function NT(){
        $mithi_mountpoint=file("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NTlog.txt");
        foreach ($mithi_mountpoint as $line_num => $line1) {
                $varmount = explode(",",$line1);
                echo "<tr>";
                foreach ($varmount as $k3 => $v3) {
                               echo "<td class='text-center'>".$v3."</td>";
                }
                echo "</tr>";
        }
}


        function NX(){
        $mithi_mountpoint=file("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NXlog.txt");
        foreach ($mithi_mountpoint as $line_num => $line1) {
                $varmount = explode(",",$line1);
                echo "<tr>";
                foreach ($varmount as $k3 => $v3) {
                               echo "<td class='text-center'>".$v3."</td>";
                }
                echo "</tr>";
        }
}


         public static function intermdiate_server_space(){
                $median_mountpoint=explode("\n",shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NT000_PR_space_check_median.txt|grep -v sysimage"));
                $median_mountpoint_dr=explode("\n",shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NT000_DR_space_check_median.txt"));
                array_pop($median_mountpoint);
                array_pop($median_mountpoint_dr);
                $len = count($median_mountpoint);
                for ($i=0; $i<$len;$i++){
                        echo "<tr>";
                                $row_data_pr = explode('|',$median_mountpoint[$i]);
                                echo "<td class='text-center'>".$row_data_pr[1]."</td>";
                                if($row_data_pr[0] > 85){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-red progress-bar-striped active' style='width:".intval(trim($row_data_pr[0]))."%'>".$row_data_pr[0]."</div></td>";
                                }
                                else if(intval($row_data_pr[0]) > 70){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-yellow progress-bar-striped active' style='width:".intval(trim($row_data_pr[0]))."%'>".$row_data_pr[0]."</div></td>";
                                }
                                else{
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-green progress-bar-striped active' style='width:".intval(trim($row_data_pr[0]))."%'>".$row_data_pr[0]."</div></td>";
                                }
                                $row_data_dr = explode('|',$median_mountpoint_dr[$i]);
                                if($row_data_dr[0] > 85){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-red progress-bar-striped active' style='width:".intval(trim($row_data_dr[0]))."%'>".$row_data_dr[0]."</div></td>";
                                }
                                else if(intval($row_data_dr[0]) > 70){
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-yellow progress-bar-striped active' style='width:".intval(trim($row_data_dr[0]))."%'>".$row_data_dr[0]."</div></td>";
                                }
                                else{
                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-green progress-bar-striped active' style='width:".intval(trim($row_data_dr[0]))."%'>".$row_data_dr[0]."</div></td>";
                                }
                        echo "</tr>";
                }
                echo "<tr>";
                        $TBforward_status_pr=trim(shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NT000_PR_TBforward_status.txt"));
                        $TBforward_status_dr=trim(shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NT000_DR_TBforward_status.txt"));
                        echo "<td class='bg-info text-center'>TB Forward Status</td>";
                        if(stristr($TBforward_status_pr,"RU")){
                                //echo "<th class='text-center' style='background-color: green;color:white;'>TBforward Status</th>";
                                echo "<td class='bg-green text-center'><i class='fa fa-thumbs-up'></i>".substr_replace($TBforward_status_pr,'',0,2)."</td>";
                        }
                        else{
                                //echo "<th class='text-center' style='background-color: red;color:white;'>TBforward Status</th>";
                                echo "<td class='bg-red text-center'><i class='fa fa-thumbs-down'></i>".substr_replace($TBforward_status_pr,'',0,2)."</td>";
                        }
                        if(stristr($TBforward_status_dr,"RU")){
                                //echo "<th class='text-center' style='background-color: green;color:white;'>TBforward Status</th>";
                                echo "<td class='bg-green text-center'><i class='fa fa-thumbs-up'></i>".substr_replace($TBforward_status_dr,'',0,2)."</td>";
                        }
                        else{
                                //echo "<th class='text-center' style='background-color: red;color:white;'>TBforward Status</th>";
                                echo "<td class='bg-red text-center'><i class='fa fa-thumbs-down'></i>".substr_replace($TBforward_status_dr,'',0,2)."</td>";
                        }
                        echo "</tr>";
                echo "<tr>";
                        $log_space_pr=trim(shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NT000_PR_log_space.txt"));
                        $log_space_dr=trim(shell_exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/NT000_DR_log_space.txt"));
                        echo "<td class='bg-info text-center'> Log Space </td>";
                        if($row_data_pr > 10){
                                echo "<td class='bg-red text-center' style='padding:5px;'><b>".$log_space_pr." GB</b></div></td>";
                        }
                        else if(intval($row_data_pr) > 5){
                                echo "<td class='bg-yellow text-center' style='padding:5px;'><b>".$log_space_pr." GB</b></div></td>";
                        }
                        else{
                                echo "<td class='bg-green text-center' style='padding:5px;'><b>".$log_space_pr." GB</b></div></td>";
                        }

                        if($row_data_dr > 10){
                                echo "<td class='bg-red text-center' style='padding:5px;'><b>".$log_space_dr." GB</b></div></td>";
                        }
                        else if(intval($row_data_pr) > 5){
                                echo "<td class='bg-yellow text-center' style='padding:5px;'>".$log_space_dr." GB</b></div></td>";
                        }
                        else{
                                echo "<td class='bg-green text-center' style='padding:5px;'>".$log_space_dr." GB</b></div></td>";
                        }
                        echo "</tr>";
        }
        public static function dcog_server_space_util(){
                $median_mountpoint=file("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/dcog_server_space_utilisation_check.log");
                //print_r($median_mountpoint);
                foreach ($median_mountpoint as $line_num => $line1){
                        $varmount = explode(",",$line1);
                        echo "<tr>";
                        //echo "<td class='text-center' $style><small class='label label-primary'>".$varmount[0]."</small>";
                        foreach ($varmount as $k3 => $v3) {
                                if($k3 == 1){
                                        $varmountspace = explode("%",$v3);
                                        echo "<td class='text-center'>".$varmountspace[1]."</td>";
                                        if(intval($varmountspace[0]) > 90){
                                                echo "<td style='padding:3px;'><div class='progress-bar progress-bar-red progress-bar-striped active' style='width:".intval(trim($varmountspace[0]))."%'>".$varmountspace[0]."</div></td>";
                                        }
                                        else if(intval($varmountspace[0]) > 70){
                                                echo "<td style='padding:3px;'><div class='progress-bar progress-bar-yellow progress-bar-striped active' style='width:".intval(trim($varmountspace[0]))."%'>".$varmountspace[0]."</div></td>";
                                        }
                                        else{
                                                if(intval($varmountspace[0]) < 10){
                                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-green progress-bar-striped active' style='width:".intval(trim($varmountspace[0]))."%;color:green;font-weight:bold;' >".$varmountspace[0]."</div></td>";
                                                }
                                                else{
                                                        echo "<td style='padding:3px;'><div class='progress-bar progress-bar-green progress-bar-striped active' style='width:".intval(trim($varmountspace[0]))."%;' >".$varmountspace[0]."</div></td>";
                                                }
                                        }
                                }
                                else{
                                        echo "<td class='text-center'>".$v3."</td>";
                                }
                        }
                        echo "</tr>";
                }
        }

        public static function app_stat(){
                //$data = explode("\n", trim(shell_exec("cat ".timedisplay::pathgiver()."trn_stat_m.txt.".timedisplay::dateUp()." ".timedisplay::pathgiver()."vvrFinalCount.txt")));
                $data = explode("\n", trim(shell_exec("cat ".timedisplay::pathgiver()."trn_stat_m.txt.".timedisplay::dateUp())));
                //echo "<div class='progress-group'><span class='progress-text'>Teller performing VVR Transaction At Present</span><div class='progress sm'><div class='progress-bar progress-bar-aqua' style='width: 80%'></div></div></div>";
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(":",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }

                                }
                                echo "</tr>";
                        }
                }
        }
                function bhaga_stat(){
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."tf_bhaga.txt.".timedisplay::dateUp())));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(":",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($line_num == 0 && $vall > 0){
                                                echo "<th class='bg-red'>".$v3."</th>";
                                                //echo "<th>0</th>";
                                        }
                                        else if($line_num == 5 && $k3 == 1 && $vall != "running"){
                                                echo "<th class='bg-red'><i class='fa fa-close'></i></th>";
                                        }
                                        else if($line_num == 5 && $k3 == 1 && $vall == "running"){
                                                echo "<th><i style='color:green' class='fa fa-check'></i></th>";
                                        }
                                        //else if($line_num == 6 && $vall >=70 && $vall < 85 ){
                                                //echo "<th><i style='color:green' class='fa fa-check'></i></th>";
                                                //echo "<th class='bg-yellow'>".$v3."</th>";
                                        //}
                                        //else if($line_num == 6 && $vall >=85  ){
                                                //echo "<th><i style='color:green' class='fa fa-check'></i></th>";
                                                //echo "<th class='bg-red'>".$v3."</th>";
                                        //}
                                        else if($line_num == 6 && $vall >=70 && $vall < 85 ){
                                        echo "<th style='padding:3px;'><div class='progress-bar progress-bar-yellow progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."</div></th>";
                                        }
                                        else if($line_num == 6 && $vall >=85  ){
                                                //echo $k3;
                                                echo "<th style='padding:3px;'><div class='progress-bar progress-bar-red progress-bar-striped active' style='width:".intval(trim($v3))."%'>".$v3."</div></th>";
                                        }
                                        else if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else{
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }

                                }
                                echo "</tr>";
                        }
                }
        }
        public static function app_stat1(){
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."trn_stat_m.txt.".timedisplay::dateUp())));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                                $var = explode(":",$data[0]);
                                print_r($var[1]);

                                }
                }


                public static function app_stat_ccpc(){
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."only_branch_code.txt")));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {

                                //print_r($var);
                                $ccpc_branch_code = array(10391,10409,10476,10384,10571,05076,10384,10395,10391,10408,10409,10464,10476,10571,11493,11713,05076,"TFOBA",40743,31904,18985,21028);
                                $count=0;
                                        foreach($ccpc_branch_code as $ccpc_value){
                                                if(in_array($ccpc_value,$data)){
                                                        $count+=1;
                                                }
                                        }
                                        //$result = count(array_intersect($ccpc_branch_code,$data));
                                        echo $count;
                                }
                }

                public static function dedup(){
                $data = explode(",", trim(file_get_contents(timedisplay::pathgiver()."dedup_status.txt")));
                //print_r($data);
                $status_arr =array("Processed"=>'0',"Pending"=>'0',"Error"=>'0',"Unprocessed"=>'0');
                        foreach($data as $value){
                                $stat = explode("|",$value);
                                if($stat[1]=="09"){
                                        $status_arr["Processed"]=$stat[0];
                                }
                                if($stat[1]=="01"){
                                        $status_arr["Error"]=$stat[0];
                                }
                                if($stat[1]=="00"){
                                        $status_arr["Pending"]=$stat[0];
                                }
                                if($stat[1]=="05"){
                                        $status_arr["Unprocessed"]=$stat[0];
                                }
                        }
                        //print_r($status_arr);
                        echo " <span class='badge badge-success' style='background-color:green; color:white;'> Processed ( ".$status_arr['Processed']." )
                                        </span><span class='badge bg-warning' style='background-color:yellow; color:red;'> Pending ( ".$status_arr['Pending']." )
                                   </span><span class='badge bg-warning' style='background-color:red; color:white;'> Unprocessed ( ".$status_arr['Unprocessed']." )</span>";
                }

                public static function app_stat_teller(){
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."prod_teller_logged.txt.".timedisplay::dateUp())));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                                $var = explode(":",$data[0]);
                                print_r($var[1]);

                                }
                }

        function conn_no(){
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."gate_m.txt.".timedisplay::dateUp())));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }

        public static function nr_mon(){
                //$data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."queuecount_7app.txt_".timedisplay::dateUp())));
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."queuecount_7app.txt_".timedisplay::dateUp())));
                $getVarLimit = ( filesize(timedisplay::pathgiver()."queuecount_7app.txt_".timedisplay::dateUp()) > 6000 ) ? 4 : count($data) ;
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                if($line_num < $getVarLimit){
                                        $var = explode(",",$line);
                                        echo "<tr>";
                                        foreach ($var as $k3 => $v3) {
                                                $vall = trim($v3);
                                                if($k3 == '0' && $vall != ''){
                                                        echo "<th class='text-center'>".$v3."</th>";
                                                }
                                                elseif($var[0] != '') {
                                                        echo "<td class='text-center' >".$vall."</td>";
                                                }



                                        }
                                }
                                echo "</tr>";
                        }
                }
        }

        function txn_desc($flag){
                $data = explode("\n", file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/$flag"));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode("@",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function glif_table_space(){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."glif_space.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }

        function trickel_feed_sub1(){
                $data = explode("\n", file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/6APPS/FINAL/trickle_summ.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                array_pop($var);
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }
        function trickel_feed_sub2(){
                $data = explode("\n", file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/6APPS/FINAL/old_trickle.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
        function trickel_feed_sub3(){
                $data = explode("\n", file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/6APPS/FINAL/final_trickle.txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(" ",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }



                                }
                                echo "</tr>";
                        }
                }
        }


        function trickel_feed_sub4(){
                $data = explode("\n", file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/trickle_processed_summary.txt"));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }

        function trns_dr_count(){
                $data = explode("\n", trim(shell_exec("cat ".timedisplay::pathgiver()."*_TXN_DT_9app.txt.".timedisplay::dateUp())));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th class='text-center'>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center' >".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
        function BNT_MASTER(){
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."MASTER_BNT_FILE.txt.".timedisplay::dateUp())));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th class='text-center'>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
        //--original---

        function queue_buildup_details($flag,$bool){
                $data1 = explode("\n",trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/production_history/queue/online/$flag.".timedisplay::dateUp())));
                //print_r($data1);
                //echo timedisplay::pathgiver()."/production_history/queue/online/$flag.".timedisplay::dateUp();
                //$repostqueuebasedTime = shell_exec("cat ".timedisplay::pathgiver()."reposterr.txt*".timedisplay::dateUp()."|grep Queue-based|awk '{print $3}'|sort|tail -2|head -1");
                $repostqueuebasedTime = shell_exec("cat ".timedisplay::pathgiver()."repost_time_forqueue.txt.".timedisplay::dateUp());
                //echo "cat ".timedisplay::pathgiver()."reposterr.txt*".timedisplay::dateUp()."|grep Queue-based|awk '{print $3}'|sort|head -1";
                $timeornot=strpos($repostqueuebasedTime,":");
                if($timeornot == 2){
                        //$queuebasedHour=explode(":",$repostqueuebasedTime)[0];
                        //$queuebasedHour=explode(":",$repostqueuebasedTime)[0];
                        $queuebasedHour=explode(":",$repostqueuebasedTime);
                        $queuebasedMin=explode(":",$repostqueuebasedTime);
                        //$queuebasedMin=explode(":",$repostqueuebasedTime)[1]+1;
                }
                else{
                        $queuebasedHour="05";
                        $queuebasedMin="00";
                }
                //print_r($data1);
                if(count($data1) == '0'){
                        echo "<thead><tr><th><span class='btn btn-warning'>No Data Available</span></th></tr></thead>";
                }
                else{
                        if($bool == 1){
                                $data=array_reverse($data1);
                                echo "<tbody>";
                                foreach ($data as $line_num => $line) {
                                        if($line_num < count($data)-1 ){
                                                $var = explode(",",$line);
                                                $getHig = array_unique($var);rsort($getHig);
                                                        //if(in_array("5",$var)){
                                                        //if( $getHig[1] > 4 && strpos($getHig[1],":") < 1 ){
                                                        echo "<tr>";
                                                                foreach ($var as $k3 => $v3) {
                                                                        $vall = trim($v3);
                                                                         $explodequeuebasedMin=explode(":",$var[0]);
                                                                         $explodequeuebasedhour=explode(":",$var[0]);
                                                                        if(($explodequeuebasedhour[0] ==$queuebasedHour[0] && $explodequeuebasedMin[1] > $queuebasedMin[1]+1) || $explodequeuebasedhour[0] > $queuebasedHour[0]){
                                                                                if($k3 == '0' && $vall != '0' ){
                                                                                        echo "<td style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</td>";
                                                                                }
                                                                                /*elseif($vall != '' && $vall == '1' && $vall != 'NQKE' ) {
                                                                                        echo "<td class='text-center' >".$vall."</td>";
                                                                                }*/
                                                                                elseif($vall != '' && intval($vall) > 20 && $vall != 'NQKE' ) {
                                                                                        echo "<td class='text-center' style='background-color:red;color:white;'>".$vall."</td>";
                                                                                }
                                                                                else{
                                                                                        echo "<td style='background-color:green;color:white;' class='text-center'>-</td>";
                                                                                }
                                                                        }
                                                                        else{
                                                                                //echo "<td class='text-center'>-</td>";
                                                                        }
                                                                }
                                                        echo "</tr>";
                                                //      }
                                        }
                                }
                                echo "</tbody>";
                        }
                        elseif($bool == 0){
                                echo "<thead>";
                                foreach ($data1 as $line_num => $line) {
                                        if($line_num == 0 ){
                                                $var = explode(",",$line);
                                                echo "<tr>";
                                                        foreach ($var as $k3 => $v3) {
                                                                $vall = trim($v3);
                                                                if($k3 == '0' && $vall != '' || $line_num == 0   ){
                                                                        echo "<th style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</th>";
                                                                }
                                                        }
                                                echo "</tr>";
                                        }
                                }
                                echo "</thead>";
                        }

                }
        }

        //old replaced on 20200213

        /*function queue_buildup_details($flag,$bool){
                $data1 = explode("\n",trim(file_get_contents("/production_history/queue/online/$flag.".timedisplay::dateUp())));
                //print_r($data1);
                $repostqueuebasedTime = shell_exec("cat ".timedisplay::pathgiver()."reposterr.txt*".timedisplay::dateUp()."|grep Queue-based|awk '{print $3}'|sort|tail -1");
                if($timeornot == 2){
                        //$queuebasedHour=explode(":",$repostqueuebasedTime)[0];
                        //$queuebasedHour=explode(":",$repostqueuebasedTime)[0];
                        $queuebasedHour=explode(":",$repostqueuebasedTime);
                        $queuebasedMin=explode(":",$repostqueuebasedTime);
                        //$queuebasedMin=explode(":",$repostqueuebasedTime)[1]+1;
                }
                else{
                        $queuebasedHour="05";
                        $queuebasedMin="00";
                }
                //print_r($data1);
                if(count($data1) == '0'){
                        echo "<thead><tr><th><span class='btn btn-warning'>No Data Available</span></th></tr></thead>";
                }
                else{
                        if($bool == 1){
                                $data=array_reverse($data1);
                                echo "<tbody>";
                                foreach ($data as $line_num => $line) {
                                        if($line_num < count($data)-1 ){
                                                $var = explode(",",$line);
                                                $getHig = array_unique($var);rsort($getHig);
                                                        //if(in_array("5",$var)){
                                                        if( $getHig[1] > 4 && strpos($getHig[1],":") < 1 ){
                                                        echo "<tr>";
                                                                foreach ($var as $k3 => $v3) {
                                                                        $vall = trim($v3);
                                                                         $explodequeuebasedMin=explode(":",$var[0]);
                                                                         $explodequeuebasedhour=explode(":",$var[0]);
                                                                        if(($explodequeuebasedhour[0] ==$queuebasedHour[0] && $explodequeuebasedMin[1] > $queuebasedMin[1]+1) || $explodequeuebasedhour[0] > $queuebasedHour[0]){
                                                                                if($k3 == '0' && $vall != '0' ){
                                                                                        echo "<td style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</td>";
                                                                                }
                                                                                /*elseif($vall != '' && $vall == '1' && $vall != 'NQKE' ) {
                                                                                        echo "<td class='text-center' >".$vall."</td>";
                                                                                }*/
                                                                                /*elseif($vall != '' && $vall > 50 && $vall != 'NQKE' ) {
                                                                                        echo "<td class='text-center' style='background-color:red;color:white;'>".$vall."</td>";
                                                                                }
                                                                                else{
                                                                                        echo "<td class='text-center'>-</td>";
                                                                                }
                                                                        }
                                                                        else{
                                                                                echo "<td class='text-center'>-</td>";
                                                                        }
                                                                }
                                                        echo "</tr>";
                                                        }
                                        }
                                }
                                echo "</tbody>";
                        }
                        elseif($bool == 0){
                                echo "<thead>";
                                foreach ($data1 as $line_num => $line) {
                                        if($line_num == 0 ){
                                                $var = explode(",",$line);
                                                echo "<tr>";
                                                        foreach ($var as $k3 => $v3) {
                                                                $vall = trim($v3);
                                                                if($k3 == '0' && $vall != '' || $line_num == 0   ){
                                                                        echo "<th style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</th>";
                                                                }
                                                        }
                                                echo "</tr>";
                                        }
                                }
                                echo "</thead>";
                        }

                }
        }*/




        /*function queue_buildup_details($flag,$bool){
                $data1 = explode("\n",trim(file_get_contents("/production_history/queue/online/$flag.".timedisplay::dateUp())));
                $repostqueuebasedTime = shell_exec("cat ".timedisplay::pathgiver()."reposterr.txt*".timedisplay::dateUp()."|grep Queue-based|awk '{print $3}'|sort|tail -1");
                $timeornot=strpos($repostqueuebasedTime,":");
                if($timeornot == 2){
                        //$queuebasedHour=explode(":",$repostqueuebasedTime)[0];
                        //$queuebasedHour=explode(":",$repostqueuebasedTime)[0];
                        $queuebasedHour="05";
                        //$queuebasedMin=explode(":",$repostqueuebasedTime)[1]+1;
                        $queuebasedMin="00";
                }
                else{
                        $queuebasedHour="05";
                        $queuebasedMin="00";
                }

                //print_r($data1);
                if(count($data1) == '0'){
                        echo "<thead><tr><th><span class='btn btn-warning'>No Data Available</span></th></tr></thead>";
                }
                else{
                        if($bool == 1){
                                $data=array_reverse($data1);
                                echo "<tbody>";
                                foreach ($data as $line_num => $line) {
                                        if($line_num < count($data)-1 ){
                                                $var = explode(",",$line);
                                                $getHig = array_unique($var);rsort($getHig);
                                                if( $getHig[1] > 4 && strpos($getHig[1],":") < 1 ){
                                                        if((explode(":",$var[0])[0] ==$queuebasedHour && explode(":",$var[0])[1] > $queuebasedMin) || explode(":",$var[0])[0] > $queuebasedHour){
                                                                echo "<tr>";
                                                                        foreach ($var as $k3 => $v3){
                                                                                $vall = trim($v3);
                                                                                if($k3 == '0' && $vall != '0' ){
                                                                                        echo "<td style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</td>";
                                                                                }
                                                                                /*elseif($vall != '' && $vall == '1' && $vall != 'NQKE' ) {
                                                                                        echo "<td class='text-center' >".$vall."</td>";
                                                                                }*/
                                                                        /*      elseif($vall != '' && $vall > 50 && $vall != 'NQKE' ) {
                                                                                        echo "<td class='text-center' style='background-color:red;color:white;'>".$vall."</td>";
                                                                                }
                                                                                else{
                                                                                        echo "<td class='text-center'>-</td>";
                                                                                }
                                                                        }
                                                                echo "</tr>";
                                                        }
                                                }
                                        }
                                }
                                echo "</tbody>";
                        }
                        elseif($bool == 0){
                                echo "<thead>";
                                foreach ($data1 as $line_num => $line) {
                                        if($line_num == 0 ){
                                                $var = explode(",",$line);
                                                echo "<tr>";
                                                        foreach ($var as $k3 => $v3) {
                                                                $vall = trim($v3);
                                                                if($k3 == '0' && $vall != '' || $line_num == 0   ){
                                                                        echo "<th style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</th>";
                                                                }
                                                        }
                                                echo "</tr>";
                                        }
                                }
                                echo "</thead>";
                        }
                }
        }*/
        //----fake-----
        /*function queue_buildup_details1($flag,$bool){
                $data1 = explode("\n",trim(file_get_contents("/production_history/queue/online/$flag.".timedisplay::dateUp())));
                $repostqueuebasedTime = shell_exec("cat ".timedisplay::pathgiver()."reposterr.txt*".timedisplay::dateUp()."|grep Queue-based|awk '{print $3}'|sort|tail -1");
                //$queuebasedHour=explode(":",$repostqueuebasedTime)[0];
        //      $queuebasedMin=explode(":",$repostqueuebasedTime)[1]+1;
                //print_r($data1);
                if(count($data1) == '0'){
                        echo "<thead><tr><th><span class='btn btn-warning'>No Data Available</span></th></tr></thead>";
                }
                else{
                        if($bool == 1){
                                $data=array_reverse($data1);
                                echo "<tbody>";
                                foreach ($data as $line_num => $line) {
                                        if($line_num < count($data)-1 ){
                                                $var = explode(",",$line);
                                                $getHig = array_unique($var);rsort($getHig);
                                                        //if(in_array("5",$var)){
                                                        if( $getHig[1] > 4 && strpos($getHig[1],":") < 1 ){
                                                        echo "<tr>";
                                                                foreach ($var as $k3 => $v3) {
                                                                        $vall = trim($v3);
                                                                        if((explode(":",$var[0])[0] ==$queuebasedHour && explode(":",$var[0])[1] > $queuebasedMin) || explode(":",$var[0])[0] > $queuebasedHour){
                                                                                if($k3 == '0' ){
                                                                                        echo "<td style='color:black;' class='text-center'>".$v3."</td>";
                                                                                }
                                                                                /*elseif($vall != '' && $vall == '1' && $vall != 'NQKE' ) {
                                                                                        echo "<td class='text-center' >".$vall."</td>";
                                                                                }*/
                                                                        //      elseif($vall != '' && $vall > 50 && $vall != 'NQKE' ) {
                                                                                //      echo "<td class='text-center' style='color:black;'>-</td>";
                                                                        //      }
                                                                                //elseif($vall != '' && $vall > 1 && $vall < 50 && $vall != 'NQKE' ) {
                                                                                //      echo "<td class='text-center' style='background-color:#d69b48;color:white;'>".$vall."</td>";
                                                                                //}
                                                                                /*else{
                                                                                        echo "<td class='text-center'>-</td>";
                                                                                }
                                                                        }
                                                                        else{
                                                                                echo "<td class='text-center'>-</td>";
                                                                        }
                                                                }
                                                        echo "</tr>";
                                                        }
                                        }
                                }
                                echo "</tbody>";
                        }
                        elseif($bool == 0){
                                echo "<thead>";
                                foreach ($data1 as $line_num => $line) {
                                        if($line_num == 0 ){
                                                $var = explode(",",$line);
                                                echo "<tr>";
                                                        foreach ($var as $k3 => $v3) {
                                                                $vall = trim($v3);
                                                                if($k3 == '0' && $vall != '' || $line_num == 0   ){
                                                                        echo "<th style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</th>";
                                                                }
                                                        }
                                                echo "</tr>";
                                        }
                                }
                                echo "</thead>";
                        }

                }
        }*/


        ///for the descriptive orig page
        function queue_buildup_details_hide($flag,$bool){
                $data1 = explode("\n",trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/production_history/queue/online/$flag.".timedisplay::dateUp())));
                //print_r($data1);
                if(count($data1) == '0'){
                        echo "<thead><tr><th><span class='btn btn-warning'>No Data Available</span></th></tr></thead>";
                }
                else{
                        if($bool == 1){
                                $data=array_reverse($data1);
                                echo "<tbody>";
                                foreach ($data as $line_num => $line) {
                                        if($line_num < count($data)-1 ){
                                                $var = explode(",",$line);
                                                $getHig = array_unique($var);rsort($getHig);
                                                        //if(in_array("5",$var)){
                                                        //if( $getHig[1] > 4 && strpos($getHig[1],":") < 1 ){
                                                        echo "<tr>";
                                                                foreach ($var as $k3 => $v3) {
                                                                        $vall = trim($v3);
                                                                        if($k3 == '0' && $vall != '0' ){
                                                                                echo "<td style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</td>";
                                                                        }
                                                                        /*elseif($vall != '' && $vall == '1' && $vall != 'NQKE' ) {
                                                                                echo "<td class='text-center' >".$vall."</td>";
                                                                        }*/
                                                                        elseif($vall != '' && $vall > 1 && $vall != 'NQKE' ) {
                                                                                echo "<td class='text-center' style='background-color:red;color:white;'>".$vall."</td>";
                                                                        }
                                                                        elseif($vall != '' && $vall > 0 && $vall != 'NQKE' ) {
                                                                                echo "<td class='text-center' style='background-color:#f39c12;color:white;'>".$vall."</td>";
                                                                        }
                                                                        else{
                                                                                echo "<td class='text-center'>-</td>";
                                                                        }
                                                                        /*else{
                                                                                echo "<td class='text-center' >".$vall."</td>";
                                                                        }*/
                                                                }
                                                        echo "</tr>";
                                                        //}
                                        }
                                }
                                echo "</tbody>";
                        }
                        elseif($bool == 0){
                                echo "<thead>";
                                foreach ($data1 as $line_num => $line) {
                                        if($line_num == 0 ){
                                                $var = explode(",",$line);
                                                echo "<tr>";
                                                        foreach ($var as $k3 => $v3) {
                                                                $vall = trim($v3);
                                                                if($k3 == '0' && $vall != '' || $line_num == 0   ){
                                                                        echo "<th style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</th>";
                                                                }
                                                        }
                                                echo "</tr>";
                                        }
                                }
                                echo "</thead>";
                        }

                }
        }
        function nr_queue_buildup_details($flag){
                $data1 = explode("\n",trim(file_get_contents("/production_history/queue/online_nr/$flag.".timedisplay::dateUp())));
                //print_r($data1);
                //$data1 = explode("\n", file_get_contents("/opt/hpws/apache/htdocs/pace/ApplnMonitor/status_queue_8app.txt.bck"));
                if(count($data1) == '0'){
                        echo "<thead><tr><th><span class='btn btn-warning'>No Data Available</span></th></tr></thead>";
                }
                else{
                        $line1=array_shift($data1);
                        echo "<thead>";
                                $var = array_values(explode(",",$line1));
                                echo "<tr>";
                                        foreach ($var as $k3 => $v3) {
                                                $vall = trim($v3);
                                                if($k3 == '0' && $vall != '' || $line_num == 0){
                                                        echo "<th style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</th>";
                                                }
                                        }
                                echo "</tr>";
                        echo "</thead>";
                        $data=array_reverse($data1);
                        echo "<tbody>";
                        foreach ($data as $line_num => $line) {
                                if($line_num < count($data) ){
                                        $var = array_values(explode(",",$line));
                                        array_pop($var);
                                        $getHig = array_unique($var);rsort($getHig);
                                                //if(in_array("5",$var)){
                                                if( $getHig[1] > 4 && strpos($getHig[1],":") < 1 ){
                                                echo "<tr>";
                                                        foreach ($var as $k3 => $v3) {
                                                                $vall = trim($v3);
                                                                if($k3 == '0' && $vall != '0' ){
                                                                        echo "<td style='background-color:#1f3f92;color:white;' class='text-center'>".$v3."</td>";
                                                                }
                                                                /*elseif($vall != '' && $vall == '1' && $vall != 'NQKE' ) {
                                                                        echo "<td class='text-center'>".$vall."</td>";
                                                                }*/
                                                                elseif($vall != '' && $vall > '1' && $vall != 'NQKE' ) {
                                                                        echo "<td class='text-center' style='background-color:red;color:white;'>".$vall."</td>";
                                                                }
                                                                else{
                                                                        echo "<td class='text-center'>-</td>";
                                                                }
                                                                /*else{
                                                                        echo "<td class='text-center' >".$vall."</td>";
                                                                }*/
                                                        }
                                                echo "</tr>";
                                                }
                                }
                        }
                        echo "</tbody>";
                }
        }
        public static function but_stat(){
                $data = explode("\n", trim(file_get_contents(timedisplay::pathgiver()."bu5_arka.txt.".timedisplay::dateUp())));
                $getTimeMin = substr(timedisplay::timeUpdated(timedisplay::pathgiver()."bu5_arka.txt","."),-5,2);
                $getTimeSec = substr(timedisplay::timeUpdated(timedisplay::pathgiver()."bu5_arka.txt","."),-2);
                $totalmins=$getTimeMin*60+$getTimeSec-60;
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else{
                        foreach ($data as $line_num => $line){
                                $var = explode(",",$line);
                                array_shift($var);
                                echo "<tr><td class='bg-black text-center' style='border:2px solid black;'>BU5</td>";
                                foreach ($var as $k3 => $v3){
                                        $vall =trim($v3);
                                        $getTime =(substr($vall,0,2)*60+substr($vall,-2));
                                        if($getTime < $totalmins && $vall != ''){
                                                echo "<td class='bg-red-active text-center' style='border:1px solid black;'>".$vall."</td>";
                                        }
                                        elseif($vall == ''){
                                                echo "<td class='bg-green-active text-center' style='border:1px solid black;'>OK</td>";
                                        }
                                        else{
                                                echo "<td class='bg-aqua-active text-center' style='border:1px solid black;'>".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
        public static function but_stat1(){
                $data =  explode("\n", trim(file_get_contents(timedisplay::pathgiver()."bu_arka.txt.".timedisplay::dateUp())));
                //print_r($data);
                $getTimeMin = substr(timedisplay::timeUpdated(timedisplay::pathgiver()."bu_arka.txt","."),-5,2);
                $getTimeSec = substr(timedisplay::timeUpdated(timedisplay::pathgiver()."bu_arka.txt","."),-2);
                $totalmins=$getTimeMin*60+$getTimeSec-60;
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else{
                        foreach ($data as $line_num => $line){
                                $var = explode(",",$line);
                                array_shift($var);
                                array_push($var,"NA");
                                echo "<tr><td class='bg-black text-center' style='border:2px solid black;'>BU</td>";
                                foreach ($var as $k3 => $v3){
                                        $vall =trim($v3);
                                        $getTime =((int)substr($vall,0,2)*60+(int)substr($vall,-2));
                                        if($getTime < $totalmins && $vall != '' && $k3 != 9){
                                                echo "<td class='bg-red-active text-center' style='border:2px solid black;'>".$vall."</td>";
                                        }
                                        elseif($vall == ''){
                                                echo "<td class='bg-green-active text-center' style='border:1px solid black;'>OK</td>";
                                        }
                                        elseif($k3 == 9){
                                                echo "<td class='text-center' style='border:1px solid black;'><b>NA</b></td>";
                                        }
                                        else{
                                                echo "<td class='bg-aqua-active text-center' style='border:1px solid black;'>".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
        public static function rtgs_pending_files(){
                $data = explode(",",trim(file_get_contents(timedisplay::pathgiver()."rtgs_incoming_rbi_12apps.txt.".timedisplay::dateUp())));
                $data1 = explode(",",trim(file_get_contents(timedisplay::pathgiver()."rtgs_outgoing_psg_12apps.txt.".timedisplay::dateUp())));
                //print_r($data);
                echo "<tr>";
                foreach($data as $key=>$value){
                        if($key==0){
                                echo "<td class='text-center bg-black'>".$data[0]."</td>";
                        }
                        else{
                                $each_data = explode("|",$value);
                                if($each_data[1] > 0){
                                        echo "<td class='text-center bg-red-active'>";
                                        //echo "<td class='text-center'>";
                                        echo $each_data[0];
                                        echo "</td>";
                                }
                                else{
                                        echo "<td class='text-center'>";
                                        echo $each_data[0];
                                        echo "</td>";
                                }
                        }
                }
                echo "</tr>";

                echo "<tr>";
                foreach($data1 as $key1=>$value1){
                        if($key1==0){
                                echo "<td class='text-center bg-black'>".$data1[0]."</td>";
                        }
                        else{
                                $each_data1 = explode("|",$value1);
                                if($each_data1[1] > 0){
                                        echo "<td class='text-center bg-red-active'>";
                                        //echo "<td class='text-center'>";
                                        echo $each_data1[0];
                                        echo "</td>";
                                }
                                else{
                                        echo "<td class='text-center'>";
                                        echo $each_data1[0];
                                        echo "</td>";
                                }
                        }
                }
                echo "</tr>";
        }

public static function mq_status(){
        $data = explode("\n",trim(file_get_contents(timedisplay::pathgiver()."mq_status_12apps.txt.".timedisplay::dateUp())));
        #$data = explode("\n",trim(file_get_contents(timedisplay::pathgiver()."mq_status_12apps.txt.20231208")));
        foreach ($data as $line_num => $line){
                $var = explode(",",$line);
                echo "<tr>";
                foreach ($var as $k3 => $v3){
                        if($v3 == 'RUNNING'){
                                echo "<td class='text-center' style='color:green;'><i class='fa fa-check'></i></td>";
                        }
                        elseif($v3 == 'NA'){
                                echo "<td class='text-center' style='color:black;'><i class='fa fa-minus'></i></td>";
                        }
                        elseif($v3 == 'ERROR'){
                                echo "<td class='glow text-center' date-toggle='tooltip' style='color:white;' title='$vall'>ERROR</td>";
                        }
                        else{
                                echo "<td class='text-center bg-black'>".$v3."</td>";
                        }
                }
                echo "</tr>";
        }
}

function UPI_status(){
        $data = explode("\n",trim(file_get_contents(timedisplay::pathgiver()."UPI_".timedisplay::dateUp())));
        foreach ($data as $line_num => $line){
                $var = explode(",",$line);
                echo "<tr>";
                foreach ($var as $k3 => $v3){

                                        if($v3== "7009" | $v3== "7010" | $v3== "6076" | $v3=="6073" | $v3=="7030" | $v3=="7031" | $v3=="7032" | $v3=="7033"){
                                                echo "<td class='text-center bg-blue'>".$v3."</td>";
                                        }
                                        elseif($v3== "6077" | $v3== "6074" | $v3== "7024" | $v3=="7025" | $v3=="7028" | $v3=="7029"){
                                                echo "<td class='text-center bg-green'>".$v3."</td>";
                                        }
                                        else{
                                                if($v3 == '1'){
                                                        echo "<td class='text-center' style='color:green;'><i class='fa fa-check'></i></td>";
                                                }
                                                else{
                                                        echo "<td class='text-center' style='color:red;'><i class='fa fa-exclamation'></i></td>";
                                                }
                                        }





                }
                echo "</tr>";
        }
}



        function allfiles(){
                $data = explode("\n", trim(file_get_contents("/var/www/html/pace/Online_portal/allfiles.txt")));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line){
                                $var = explode(",",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3){
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($k3 == '1' && $vall != ''){
                                                echo "<th class='text-center' style='color:red;'>".$v3."</th>";
                                        }
                                        elseif($k3 == '2' && $vall != ''){
                                                echo "<th class='text-center' style='color:green;'>".$v3."</th>";
                                        }
                                        else{
                                                echo "<td class='text-center' ><a href='allfiles.php?content=$vall'>".$vall."</a></td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }

        /*function allfiles_check(){
                $data = explode("\n", trim(file_get_contents("/opt/hpws22/apache/htdocs/pace/Online_portal/allfiles.txt")));
                        foreach ($data as $line_num => $line) {
                                $var = explode(",",$line);
                                $file= ($var[0] > 0 ) ?  shell_exec("cat ".$var[3]."*".timedisplay::dateUp()."* | wc -l") : shell_exec("cat ".$var[3]."* | wc -l");
                                if($file < 1){
                                        echo "<tr><td>".$var[3]."</td><td>".$var[1]."</td></tr>";
                                }
                        }
        }*/
        function allfiles_check(){//for the file not present
                $data = explode("\n", trim(file_get_contents("/opt/hpws22/apache/htdocs/pace/Online_portal/allfiles.txt")));
                        foreach ($data as $line_num => $line){
                                $var = explode(",",$line);
                                $financeexo=explode("/",$var[3]);
                                if(trim($financeexo[9])=="FINANCEONE" ){
                                        $mflag1 = trim(shell_exec("cat ".timedisplay::pathgiver()."FINANCEONE/F1_Date.txt|grep F1EODDATE| awk '{print $2}'|rmnl"));
                                        $dateyearfinance=trim(substr($mflag1,0,4));
                                        $dateyearmonthfinance=trim(substr($mflag1,0,6));
                                        $file= ($var[0] > 0 ) ?  shell_exec("cat ".timedisplay::pathgiver()."FINANCEONE/".$dateyearfinance."/".$dateyearmonthfinance."/".$mflag1."/".$financeexo[10]."*".$mflag1."* | wc -l") : shell_exec("cat ".$var[3]."* | wc -l");
                                        //echo "cat ".timedisplay::pathgiver()."FINANCEONE/".$dateyearfinance."/".$dateyearmonthfinance."/".$mflag1."/".$financeexo[10]."*".$mflag1."* | wc -l  ".$var[1];
                                }
                                else
                                {
                                        $file= ($var[0] > 0) ?  shell_exec("cat ".$var[3]."*".timedisplay::dateUp()."* | wc -l") : shell_exec("cat ".$var[3]."* | wc -l");
                                }

                                if($file < 1){
                                        echo "<tr><td>".$var[3]."</td><td>".$var[1]."</td></tr>";
                                }
                        }
        }
        function mrgraph($port,$flag,$hrs,$date){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."mr".$port."_graph.txt.".$date));
                $v = array();
                foreach($data as $var){
                        $g = explode(",",$var);
                        $v[] = array("time"=>trim($g[0]),"TCP_Connections_Count"=>$g[$flag]);
                }
                $c = ( $hrs == 900 ) ? array_slice($v,-900) : $v ;
                return json_encode($c);
        }
        function lotusgraph($port,$flag,$hrs,$date){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."".$port."_graph.txt.".$date));
                //echo $port;
                $v = array();
                foreach($data as $var){
                        $g = explode(",",$var);
                        $v[] = array("time"=>trim($g[0]),"TCP_Connections_Count"=>$g[$flag]);
                }
                $c = ( $hrs == 900 ) ? array_slice($v,-900) : $v ;
                return json_encode($c);
        }
        function timeoutTranS($serverName){
                $data = explode("\n", file_get_contents(timedisplay::pathgiver()."total_timeout_".$serverName.".txt.".timedisplay::dateUp()));
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        $hourZone=04;
                        foreach ($data as $line_num => $line) {
                                $var = explode(" ",$line);
                                if($line_num==0){
                                        echo "<thead>";
                                                echo "<tr>";
                                                        echo "<th class='text-center'>Tran Code</th>";
                                                        foreach ($var as $k3 => $v3) {
                                                                echo "<th class='text-center'>".$hourZone."</th>";
                                                                $hourZone++;
                                                        }
                                                echo "</tr>";
                                        echo "</thead>";
                                }
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        if($k3 == '0' && $vall != ''){
                                                echo "<th>".$v3."</th>";
                                        }
                                        elseif($k3 > '0' && $vall > 0){
                                                echo "<th class='text-center' style='color:red;'>".$v3."</th>";
                                        }
                                        else {
                                                echo "<td class='text-center'>".$vall."</td>";
                                        }
                                }
                                echo "</tr>";
                        }
                }
        }
//tabular representation for whole month of Netstat responses(MR INB LOTUS IMPS)
        function allGraphMonth($app,$filename,$dateFile){
                $dates = array();
                $date  = strtotime( "-30 day",strtotime(timedisplay::dateUp()));
                $dateCurr  = strtotime(timedisplay::dateUp());
                while($date <= $dateCurr ){
                        $dates[] = $filename.".".date("Ymd",$date);
                        $date  = strtotime("+1 day", $date);
                }
                $x = file_put_contents(timedisplay::pathgiver()."".$dateFile,implode($dates,"\n"));
                $varData = shell_exec("
                                cd /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/;

                                for i in `cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/$dateFile`
                                do
                                        a=`echo \$i | awk -F'.' '{print \$NF}'`
                                        g=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[0]'| wc -l`
                                        b=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[1-9]'| wc -l`
                                        c=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[1-4][0-9]'| wc -l`
                                        d=`cat \$i | awk -F ',' '".$app." > 50'| wc -l`
                                        e=`cat \$i | awk -F',' '{print $1,".$app."}'| sort -nk2 | tail -1`
                                        f=`cat \$i | awk -F',' '{print $2+$3+$4+$5+$6+$7+$8+$9+$10}' | /opt/hpws/apache/cgi-bin/trials/bip/data/addup`
                                        echo \"\$a-\$g-\$b-\$c-\$d-\$e-\$f||||\"
                                done
                ");
                $var = explode("||||", $varData);
                if(substr($app,1,3) < 10){
                        foreach($var as $k => $data){
                                $c = explode("-",$data);
                                $xi = explode(" ",$c[5]);
                                echo "<tr>";
                                echo "<td class='text-center'>".date("d-M-Y",strtotime($c[0]))."</td>";
                                echo "<td class='text-center'>".$c[1]."</td>";
                                echo "<td class='text-center'>".$c[2]."</td>";
                                echo "<td class='text-center'>".$c[3]."</td>";
                                echo "<td class='text-center'>".$c[4]."</td>";
                                echo "<td class='text-center'>".$xi[0]."</td>";
                                echo "<td class='text-center'>".$xi[1]."</td>";
                                echo "</tr>";
                        }
                }
                else{
                        foreach($var as $k => $data){
                                $c = explode("-",$data);
                                echo "<tr>";
                                echo "<td class='text-center'>".date("d-M-Y",strtotime($c[0]))."</td>";
                                echo "<td class='text-center'>".$c[6]."</td>";
                                echo "</tr>";
                        }

                }
        }
//tabular representation for whole month of INB responses
        function allGraphMonthTest($app,$filename,$dateFile){
                $dates = array();
                $date  = strtotime( "-30 day",strtotime(timedisplay::dateUp()));
                $dateCurr  = strtotime(timedisplay::dateUp());
                while($date <= $dateCurr ){
                        $dates[] = $filename.".".date("Ymd",$date);
                        $date  = strtotime("+1 day", $date);
                }
                $x = file_put_contents(timedisplay::pathgiver()."".$dateFile,implode($dates,"\n"));
                $varData = shell_exec("
                                cd /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/;

                                for i in `cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/$dateFile`
                                do
                                        a=`echo \$i | awk -F'.' '{print \$NF}'`
                                        g=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[0]'| wc -l`
                                        b=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[1-9]'| wc -l`
                                        c=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[1-4][0-9]'| wc -l`
                                        d=`cat \$i | awk -F ',' '".$app." > 50'| wc -l`
                                        e=`cat \$i | awk -F',' '{print $6,".$app."}'| sort -nk 2 | tail -1`
                                        echo \"\$a-\$g-\$b-\$c-\$d-\$e-\$f||||\"
                                done
                ");
                $var = explode("||||", $varData);
                if(substr($app,1,3) < 10){
                        foreach($var as $k => $data){
                                $c = explode("-",$data);
                                $xi = explode(" ",$c[5]);
                                echo "<tr>";
                                echo "<td class='text-center'>".date("d-M-Y",strtotime($c[0]))."</td>";
                                echo "<td class='text-center'>".$c[1]."</td>";
                                echo "<td class='text-center'>".$c[2]."</td>";
                                echo "<td class='text-center'>".$c[3]."</td>";
                                echo "<td class='text-center'>".$c[4]."</td>";
                                echo "<td class='text-center'>".$xi[0]."</td>";
                                echo "<td class='text-center'>".$xi[1]."</td>";
                                echo "</tr>";
                        }
                }
        }
        function mrgraphMonthGraph($app){
                $var = array();
                $date  = strtotime( "-10 day",strtotime(timedisplay::dateUp()));
                $dateCurr  = strtotime(timedisplay::dateUp());
                while($date <= $dateCurr ){
                        $dateConv = date("Ymd",$date);
                        //$var[$dateConv] = exec("cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/mr_graph.txt.".$dateConv." | awk -F ','  '{print \"".$dateConv.": \"$1 ".$app."}' ");
                        //$var[$dateConv] = "cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/mr_graph.txt.".$dateConv." | awk -F ','  '{print \"".$dateConv.": \"$1 ".$app."}' ";
                        $data  = file(timedisplay::pathgiver()."mr_graph.txt.".$dateConv);
                        foreach($data as $k => $value){
                                $v = explode(",",$value);
                                //$var[][$dateConv.':'.$v[0]] = $v[$app];
                                $var[] = array("time"=>trim($dateConv.':'.$v[0]),"Total Proceses"=>$v[$app]);
                        }
                        $date  = strtotime("+1 day", $date);
                }
                echo json_encode($var);
        }




        function loninvkey($one_liner){
                if($one_liner == "pop"){
                        $data = array(array_pop(explode("\n", trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/loninvkey_all.txt")))));
                }
                else{
                        $data = explode("\n", trim(file_get_contents("/opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/loninvkey_all.txt")));
                }
                if(count($data) == '0'){
                        echo "<tr><th><span class='btn btn-warning'>No Data Available</span></th></tr>";
                }
                else {
                        foreach ($data as $line_num => $line) {
                                $var = explode("|",$line);
                                echo "<tr>";
                                foreach ($var as $k3 => $v3) {
                                        $vall = trim($v3);
                                        echo "<td class='text-center'>".$vall."</td>";
                                }
                                echo "</tr>";
                        }
                }
        }




        /*function mrgraphMonthGraphport($app){
                $dates = array();
                $date  = strtotime( "-30 day",strtotime(timedisplay::dateUp()));
                $dateCurr  = strtotime(timedisplay::dateUp());
                while($date <= $dateCurr ){
                        $dates[] = "mr_6103_graph.txt.".date("Ymd",$date);
                        $date  = strtotime("+1 day", $date);
                }
                $x = file_put_contents(timedisplay::pathgiver()."abcd1_mr.txt",implode($dates,"\n"));
                $varData = shell_exec("
                                cd /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/;
                                for i in `cat /opt/hpws/apache/cgi-bin/trials/bip/data/TESTING/abcd1_mr.txt`
                                do
                                        a=`echo \$i | awk -F'.' '{print \$NF}'`
                                        g=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[0]'| wc -l`
                                        b=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[1-9]'| wc -l`
                                        c=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[1-4][0-9]'| wc -l`
                                        d=`cat \$i | awk -F',' '{print ".$app."}'| grep -w '^[5-9][0-9]'| wc -l`
                                        e=`cat \$i | awk -F',' '{print $1,".$app."}'| sort -nk 2 | tail -1`
                                        f=`cat \$i | awk -F',' '{print $2+$3+$4+$5+$6+$7+$8+$9+$10}' | /opt/hpws/apache/cgi-bin/trials/bip/data/addup`
                                        echo \"\$a-\$g-\$b-\$c-\$d-\$e-\$f||||\"
                                done
                ");
                $var = explode("||||", $varData);
                if(substr($app,1,3) < 10){
                        foreach($var as $k => $data){
                                $c = explode("-",$data);
                                $xi = explode(" ",$c[5]);
                                echo "<tr>";
                                echo "<td class='text-center'>".date("d-M-Y",strtotime($c[0]))."</td>";
                                echo "<td class='text-center'>".$c[1]."</td>";
                                echo "<td class='text-center'>".$c[2]."</td>";
                                echo "<td class='text-center'>".$c[3]."</td>";
                                echo "<td class='text-center'>".$c[4]."</td>";
                                echo "<td class='text-center'>".$xi[0]."</td>";
                                echo "<td class='text-center'>".$xi[1]."</td>";
                                echo "</tr>";
                        }
                }
                else{
                        foreach($var as $k => $data){
                                $c = explode("-",$data);
                                echo "<tr>";
                                echo "<td class='text-center'>".date("d-M-Y",strtotime($c[0]))."</td>";
                                echo "<td class='text-center'>".$c[6]."</td>";
                                echo "</tr>";
                        }

                }
        }*/

        /*function sysutilgraph($server){
                $data1 = explode("\n", file_get_contents("/home/monitorp/APPENDED/DATA/".$server.".txt.".timedisplay::dateUp()));
                $v = array();
                foreach($data as $var){
                        $g1 = explode(" ",$var);
                        $g = array_shift($g1);
                        $v[] = array("time"=>trim($g[0]),"Total Proceses"=>$g[1],"Running Processes"=>g[2]);
                }
                //$c = ( $hrs == 900 ) ? array_slice($v,-900) : $v ;
                return json_encode($c);
        }*/

 }
class CardDecider extends timedisplay {
         private $newVar;
         private $news;
         private $printData;
         private static function checkDec(){
                 $data = explode("\n", file_get_contents(timedisplay::pathgiver()."Portal_Main_Bulk_File.txt_".timedisplay::dateUp()));
                 $getFirstName = explode(",",$data[0]);
                        switch($getFirstName[0])
                        {
                                case "SUTLEJ":
                                        $newVar=array("file"=>"prcard.txt","name"=>"PR");
                                        break;
                                case "KRISHNA":
                                        $newVar=array("file"=>"drcard.txt","name"=>"DR");
                                        break;
                                case "HIMALAYA":
                                        $newVar=array("file"=>"nrcard.txt","name"=>"NR");
                                        break;
                                default:
                                        $newVar=array("file"=>"prcard.txt","name"=>"PR");
                                        break;
                        }
                        return $newVar;
         }

         private static function getCardDetils(){
                $news = self::checkDec();
                foreach(file("card_folder/".$news['file']) as $values){
                        //$printData .= "<th>".strtok($values," ")."</th>";
                        //$printData=explode(" ",$values);
                        $printData[] = explode(" ",$values);
                }
                return json_encode($printData);
         }
         public static function getFinalDetails(){
                 return self::getCardDetils();
         }
}
$yummy = new systemu();
$aplnMonior = new applnMonitor();
$reposting = new repost();
$trickelfeed = new trickelfeed();
$rtgs = new rtgs();
$bhaga = new bhaga();
//$eodbck = new eod();
?>
